{"ast":null,"code":"var __jsx = React.createElement;\nimport { message } from 'antd';\nimport * as React from 'react';\nimport './sound.less';\nexport default class SoundComponent extends React.PureComponent {\n  componentDidMount() {\n    const {\n      soundUrl,\n      volumn\n    } = this.props;\n    const audio = document.createElement('audio');\n    audio.setAttribute('src', soundUrl || '/sounds/default-audio.mp3');\n    audio.setAttribute('id', 'audio');\n    audio.volume = volumn || 0.5;\n    const container = document.querySelector('.sound-player');\n    container.append(audio);\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      soundUrl\n    } = this.props;\n\n    if (soundUrl && soundUrl !== prevProps.soundUrl) {\n      let audio = document.getElementById('audio');\n      const container = document.querySelector('.sound-player');\n\n      if (!audio) {\n        audio = document.createElement('audio');\n        audio.setAttribute('id', 'audio');\n        container.append(audio);\n      }\n\n      audio.setAttribute('src', soundUrl || '/sounds/default-audio.mp3');\n    }\n  }\n\n  async play() {\n    const audio = document.getElementById('audio');\n\n    if (audio) {\n      try {\n        await audio.play();\n      } catch (e) {\n        message.error('Tipped sound can not play. Interact with the document first!', 60);\n      }\n    }\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"sound-player\"\n    });\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}