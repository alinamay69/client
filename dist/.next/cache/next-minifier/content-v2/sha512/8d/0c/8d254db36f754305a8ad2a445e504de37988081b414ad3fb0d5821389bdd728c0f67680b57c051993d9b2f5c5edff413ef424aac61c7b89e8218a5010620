{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[80],{Abbm:function(e,t,n){e.exports={spinner:\"FqxmFNz4OrHU-AwWcntBB\"}},Drea:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),o={name:\"play-circle\",theme:\"outlined\",icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"}},{tag:\"path\",attrs:{d:\"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z\"}}]}},a=n(\"6VBw\"),i=function(e,t){return r.createElement(a.a,Object.assign({},e,{ref:t,icon:o}))};i.displayName=\"PlayCircleOutlined\";t.a=r.forwardRef(i)},\"J+9G\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),o=n.n(r),a=n(\"HaE+\"),i=n(\"1OyB\"),c=n(\"vuIU\"),s=n(\"JX7q\"),u=n(\"Ji7U\"),d=n(\"md7G\"),l=n(\"foSv\"),f=n(\"rePB\"),p=n(\"q1tI\"),v=n.n(p),h=n(\"tsqr\"),m=n(\"2/Rp\"),y=n(\"Y1dN\"),b=n(\"8Kt/\"),O=n.n(b),w=n(\"/MKj\"),j=n(\"WT8E\"),g=n(\"CLrh\"),V=n(\"NsEo\"),k=n(\"YFqc\"),x=n.n(k),E=n(\"bx4M\"),M=n(\"zeV3\"),N=n(\"RotF\"),P=n.n(N),R=n(\"Drea\"),q=n(\"G3dp\"),_=n(\"rP/q\"),B=n(\"5aC+\"),S=(n(\"7VvO\"),p.createElement),C=function(e){var t=e.data,n=e.success,r=e.title,o=e.hasMore,a=e.addVideos,i=e.remove,c=e.onViewVideo;return S(P.a,{pageStart:0,loadMore:a,hasMore:o},S(E.a,{className:\"video-grid\",title:r,bordered:!1},n&&(t.length>0?t.map((function(e){var t;return S(E.a.Grid,{className:\"video-box\",key:e._id},S(\"div\",{className:\"video-thumbnail\"},S(\"img\",{src:e.thumbnail||\"\".concat(null===e||void 0===e||null===(t=e.video)||void 0===t?void 0:t.thumbnails[0])||\"/no-image.jpg\",alt:\"\"}),S(\"a\",{className:\"play-icon\"},S(R.a,{onClick:function(){return c(e)}}))),S(\"div\",{className:\"video-info\"},S(\"div\",null,\"Status:\",\" \",S(\"strong\",null,Object(_.a)(e.status))),S(M.b,null,S(x.a,{href:{pathname:\"/account/performer/videos/update\",query:{video:JSON.stringify(e)}},as:\"/account/performer/videos/\".concat(e._id,\"/update\")},S(\"a\",null,S(q.a,null))),S(B.a,{confirm:function(){return i(e._id)}}))))})):S(\"p\",null,\"No models\"))))};C.defaultProps={success:!1,title:\"\",addVideos:null,hasMore:!1,remove:!1,onViewVideo:!1};var A=C,J=n(\"nOHt\"),F=n.n(J),W=n(\"hoQo\"),D=(n(\"FWAC\"),n(\"TW7V\")),T=v.a.createElement;function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){Object(f.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(l.a)(e);if(t){var o=Object(l.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(d.a)(this,n)}}var U=function(e){Object(u.a)(n,e);var t=I(n);function n(e){var r;return Object(i.a)(this,n),r=t.call(this,e),Object(f.a)(Object(s.a)(r),\"ref\",void 0),r.state={limit:12,offset:0},r}return Object(c.a)(n,[{key:\"componentDidMount\",value:function(){this.loadVideos()}},{key:\"onRemove\",value:function(){var e=Object(a.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.removeMyVideo,e.prev=1,e.next=4,g.t.removeMyVideo(t);case 4:h.b.success(\"Removed!\"),n(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.showError(e.t0);case 11:case\"end\":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"addVideos\",value:function(){var e=Object(a.a)(o.a.mark((function e(){var t,n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.addMyVideos,e.prev=1,n=this.state.limit,r=this.state.offset,r=n+r,e.next=7,g.t.myVideos(G(G({},this.state),{},{offset:r}));case 7:a=e.sent,t(a.data.data),this.setState({offset:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.showError(e.t0);case 15:case\"end\":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:\"loadVideos\",value:function(){(0,this.props.getMyVideos)(G(G({},this.state),{},{offset:0}))}},{key:\"showError\",value:function(){var e=Object(a.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(t);case 2:n=e.sent,h.b.error(Object(V.g)(n));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this,t=this.props,n=t.data,r=t.searching,o=t.total,a=t.success;return T(v.a.Fragment,null,T(O.a,null,T(\"title\",null,\"My Videos\")),T(\"div\",{className:\"performer-videos-page\"},T(y.a,{title:\"Videos\",extra:T(m.a,{type:\"primary\",onClick:function(){return F.a.push(\"/account/performer/videos/add\")}},\"Upload Video\")}),T(D.a,{spinning:r}),T(A,{success:a,addVideos:this.addVideos.bind(this),remove:this.onRemove.bind(this),data:n,hasMore:!r&&n.length<o,title:\"\",onViewVideo:function(t){return e.ref.showModalBuyAssets(t.video.url||\"\")}}),T(W.a,{ref:function(t){return e.ref=t}})))}}]),n}(p.PureComponent);Object(f.a)(U,\"authenticate\",!0),Object(f.a)(U,\"layout\",\"primary\");var Y={getMyVideos:j.q,removeMyVideo:j.F,addMyVideos:j.d};t.default=Object(w.b)((function(e){return G({},e.performer.assets.videos)}),Y)(U)},TW7V:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),o=n.n(r),a=n(\"TSYQ\"),i=n.n(a),c=(n(\"Abbm\"),o.a.createElement);t.a=function(e){var t=e.spinning,n=void 0!==t&&t,r=e.fullScreen,o=void 0!==r&&r;return c(\"div\",{className:i()(\"loader\",{hidden:!n,fullScreen:o})},c(\"div\",{className:\"warpper\"},c(\"div\",{className:\"text\"},c(\"img\",{src:\"/loading-ico.gif\",width:\"65px\",alt:\"\"}))))}},hoQo:function(e,t,n){\"use strict\";var r=n(\"1OyB\"),o=n(\"vuIU\"),a=n(\"JX7q\"),i=n(\"Ji7U\"),c=n(\"md7G\"),s=n(\"foSv\"),u=n(\"rePB\"),d=n(\"q1tI\"),l=n.n(d),f=n(\"Acen\"),p=n(\"8OJ3\"),v=l.a.createElement;function h(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var o=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var m=function(e){Object(i.a)(n,e);var t=h(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),Object(u.a)(Object(a.a)(e),\"popup\",void 0),e}return Object(o.a)(n,[{key:\"handler\",value:function(e){var t=document.querySelector(\"#video\");t||((t=document.createElement(\"video\")).setAttribute(\"id\",\"video\"),t.setAttribute(\"class\",\"video-js\"),t.setAttribute(\"autoplay\",\"autoplay\"),document.querySelector(\".ant-modal-body\").append(t)),window[\"video-player\"]||(window[\"video-player\"]=Object(p.a)(\"video\",{poster:\"/xcam-logo-black.png\",controls:!0})),window[\"video-player\"].src({type:\"video/mp4\",src:e}),window[\"video-player\"].play()}},{key:\"onOk\",value:function(){window[\"video-player\"]=window[\"video-player\"].pause(),this.popup.setVisible(!1)}},{key:\"showModalBuyAssets\",value:function(e){var t=this;this.popup.setVisible(!0),setTimeout((function(){return t.handler(e)}),500)}},{key:\"render\",value:function(){var e=this;return v(f.a,{title:\"Video detail\",ref:function(t){return e.popup=t},content:v(l.a.Fragment,null),onOk:this.onOk.bind(this),onCancel:this.onOk.bind(this)})}}]),n}(l.a.PureComponent);t.a=m},oamY:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/performer/videos\",function(){return n(\"J+9G\")}])},qx4F:function(e,t,n){\"use strict\";var r;function o(e){if(\"undefined\"===typeof document)return 0;if(e||void 0===r){var t=document.createElement(\"div\");t.style.width=\"100%\",t.style.height=\"200px\";var n=document.createElement(\"div\"),o=n.style;o.position=\"absolute\",o.top=0,o.left=0,o.pointerEvents=\"none\",o.visibility=\"hidden\",o.width=\"200px\",o.height=\"150px\",o.overflow=\"hidden\",n.appendChild(t),document.body.appendChild(n);var a=t.offsetWidth;n.style.overflow=\"scroll\";var i=t.offsetWidth;a===i&&(i=n.clientWidth),document.body.removeChild(n),r=a-i}return r}n.d(t,\"a\",(function(){return o}))}},[[\"oamY\",0,1,4,5,32,3,2,6,7,8,10,11,12,13,14,15,17,19,23,25,31,41,36,45,44,9]]]);","extractedComments":[]}