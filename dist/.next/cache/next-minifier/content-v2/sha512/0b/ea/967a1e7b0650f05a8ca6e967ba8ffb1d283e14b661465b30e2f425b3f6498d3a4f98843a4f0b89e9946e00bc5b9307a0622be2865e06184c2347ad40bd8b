{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[69],{\"36JD\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"o0o1\"),a=n.n(r),o=n(\"HaE+\"),c=n(\"1OyB\"),i=n(\"vuIU\"),l=n(\"Ji7U\"),u=n(\"md7G\"),s=n(\"foSv\"),p=n(\"rePB\"),d=n(\"q1tI\"),f=n.n(d),b=n(\"tsqr\"),h=n(\"Y1dN\"),v=n(\"8Kt/\"),y=n.n(v),O=n(\"/MKj\"),m=n(\"pKnN\"),j=n(\"CLrh\"),g=n(\"NsEo\"),k=n(\"nOHt\"),w=n.n(k),x=(n(\"M6VO\"),f.a.createElement);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){Object(p.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(s.a)(e);if(t){var a=Object(s.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var S=function(e){Object(l.a)(n,e);var t=E(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={onSubmit:!1},r}return Object(i.a)(n,[{key:\"onFinish\",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.performer,e.prev=1,this.setState({onSubmit:!0}),e.next=5,j.k.create(\"/performer/performer-assets/photos/upload\",C(C({},t),{},{performerId:n._id}));case 5:b.b.success(\"Add photo success.\"),w.a.back(),e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,Promise.resolve(e.t0);case 13:r=e.sent,b.b.error(Object(g.g)(r));case 15:return e.prev=15,this.setState({onSubmit:!1}),e.finish(15);case 18:case\"end\":return e.stop()}}),e,this,[[1,9,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.state.onSubmit;return x(f.a.Fragment,null,x(y.a,null,x(\"title\",null,\"Upload Photo\")),x(\"div\",{className:\"performer-photos-page\"},x(h.a,{title:\"Create new Photo\"}),x(m.a,{loading:e,onFinish:this.onFinish.bind(this),photo:{}})))}}]),n}(d.PureComponent);Object(p.a)(S,\"authenticate\",!0),Object(p.a)(S,\"layout\",\"primary\");t.default=Object(O.b)((function(e){return{performer:e.performer.current}}))(S)},\"9yH6\":function(e,t,n){\"use strict\";var r=n(\"rePB\"),a=n(\"wx14\"),o=n(\"q1tI\"),c=n(\"x1Ya\"),i=n(\"TSYQ\"),l=n.n(i),u=n(\"c+Xe\"),s=n(\"H84U\"),p=o.createContext(null),d=p.Provider,f=p,b=n(\"uaoM\"),h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},v=function(e,t){var n,i=o.useContext(f),p=o.useContext(s.b),d=p.getPrefixCls,v=p.direction,y=o.useRef(),O=Object(u.a)(t,y);o.useEffect((function(){Object(b.a)(!(\"optionType\"in e),\"Radio\",\"`optionType` is only support in Radio.Group.\")}),[]);var m=e.prefixCls,j=e.className,g=e.children,k=e.style,w=h(e,[\"prefixCls\",\"className\",\"children\",\"style\"]),x=d(\"radio\",m),P=Object(a.a)({},w);i&&(P.name=i.name,P.onChange=function(t){var n,r;null===(n=e.onChange)||void 0===n||n.call(e,t),null===(r=null===i||void 0===i?void 0:i.onChange)||void 0===r||r.call(i,t)},P.checked=e.value===i.value,P.disabled=e.disabled||i.disabled);var C=l()(\"\".concat(x,\"-wrapper\"),(n={},Object(r.a)(n,\"\".concat(x,\"-wrapper-checked\"),P.checked),Object(r.a)(n,\"\".concat(x,\"-wrapper-disabled\"),P.disabled),Object(r.a)(n,\"\".concat(x,\"-wrapper-rtl\"),\"rtl\"===v),n),j);return o.createElement(\"label\",{className:C,style:k,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.createElement(c.a,Object(a.a)({},P,{prefixCls:x,ref:O})),void 0!==g?o.createElement(\"span\",null,g):null)},y=o.forwardRef(v);y.displayName=\"Radio\",y.defaultProps={type:\"radio\"};var O=y,m=n(\"ODXe\"),j=n(\"6cGi\"),g=n(\"3Nzz\"),k=o.forwardRef((function(e,t){var n=o.useContext(s.b),a=n.getPrefixCls,c=n.direction,i=o.useContext(g.b),u=Object(j.a)(e.defaultValue,{value:e.value}),p=Object(m.a)(u,2),f=p[0],b=p[1];return o.createElement(d,{value:{onChange:function(t){var n=f,r=t.target.value;\"value\"in e||b(r);var a=e.onChange;a&&r!==n&&a(t)},value:f,disabled:e.disabled,name:e.name}},function(){var n,u=e.prefixCls,s=e.className,p=void 0===s?\"\":s,d=e.options,b=e.optionType,h=e.buttonStyle,v=void 0===h?\"outline\":h,y=e.disabled,m=e.children,j=e.size,g=e.style,k=e.id,w=e.onMouseEnter,x=e.onMouseLeave,P=a(\"radio\",u),C=\"\".concat(P,\"-group\"),E=m;if(d&&d.length>0){var S=\"button\"===b?\"\".concat(P,\"-button\"):P;E=d.map((function(e){return\"string\"===typeof e?o.createElement(O,{key:e,prefixCls:S,disabled:y,value:e,checked:f===e},e):o.createElement(O,{key:\"radio-group-value-options-\".concat(e.value),prefixCls:S,disabled:e.disabled||y,value:e.value,checked:f===e.value,style:e.style},e.label)}))}var N=j||i,F=l()(C,\"\".concat(C,\"-\").concat(v),(n={},Object(r.a)(n,\"\".concat(C,\"-\").concat(N),N),Object(r.a)(n,\"\".concat(C,\"-rtl\"),\"rtl\"===c),n),p);return o.createElement(\"div\",{className:F,style:g,onMouseEnter:w,onMouseLeave:x,id:k,ref:t},E)}())})),w=o.memo(k),x=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},P=function(e,t){var n=o.useContext(f),r=o.useContext(s.b).getPrefixCls,c=e.prefixCls,i=x(e,[\"prefixCls\"]),l=r(\"radio-button\",c);return n&&(i.checked=e.value===n.value,i.disabled=e.disabled||n.disabled),o.createElement(O,Object(a.a)({prefixCls:l},i,{type:\"radio\",ref:t}))},C=o.forwardRef(P),E=O;E.Button=C,E.Group=w;t.a=E},dNzx:function(e,t,n){\"use strict\";var r=n(\"wx14\"),a=n(\"Vl3Y\"),o=n(\"q1tI\"),c=n.n(o),i=c.a.createElement;t.a=function(e){var t=e.fields;return i(c.a.Fragment,null,t.map((function(e){return i(a.a.Item,Object(r.a)({},e,{key:e.id||(e.name||e.fieldKey).toString()}),e.children)})))}},jexl:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/performer/photos/add\",function(){return n(\"36JD\")}])},pKnN:function(e,t,n){\"use strict\";var r=n(\"wx14\"),a=n(\"rePB\"),o=n(\"ODXe\"),c=n(\"q1tI\"),i=n.n(c),l=n(\"Vl3Y\"),u=n(\"5rEg\"),s=n(\"9yH6\"),p=n(\"8z0m\"),d=n(\"2/Rp\"),f=n(\"zeV3\"),b=n(\"nOHt\"),h=n.n(b),v=n(\"z7Xi\"),y=n(\"o0o1\"),O=n.n(y),m=n(\"HaE+\"),j=n(\"2fM7\"),g=n(\"tsqr\"),k=n(\"CLrh\"),w=n(\"NsEo\"),x=c.createElement,P=j.a.Option,C=function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>-1},E=function(e){var t=e.autoFocus,n=e.disabled,r=e.form,a=e.defaultGalleryId,i=c.useState([]),l=Object(o.a)(i,2),u=l[0],s=l[1],p=c.useState(a),d=Object(o.a)(p,2),f=d[0],b=d[1],h=function(){var e=Object(m.a)(O.a.mark((function e(){var t,n,r,a=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:\"\",e.prev=1,e.next=4,k.e.search({q:t});case 4:n=e.sent,s(n.data.data),e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,Promise.resolve(e.t0);case 12:r=e.sent,g.b.error(Object(w.g)(r));case 14:case\"end\":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return c.useEffect((function(){h()}),[]),x(j.a,{showSearch:!0,autoFocus:t,disabled:n,filterOption:C,value:f,onChange:function(e){return function(e){b(e),r&&r.setFieldsValue({galleryId:e})}(e)},placeholder:\"Select your photo gallries\"},u.map((function(e){return x(P,{key:e._id,value:e._id},e.name)})))};E.defaultProps={autoFocus:!1,disabled:!1,form:null,defaultGalleryId:\"\"};var S=E,N=n(\"psLn\"),F=n(\"dNzx\"),I=(n(\"V/Nr\"),i.a.createElement);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var B={height:225,width:225,objectFit:\"cover\",marginTop:10},R={description:\"\",status:\"draft\",isSalePhoto:!1},q=[{key:\"draft\",name:\"Draft\"},{key:\"active\",name:\"Active\"},{key:\"inactive\",name:\"Inactive\"}],_=function(e){var t=e.onFinish,n=e.loading,a=e.photo,c=l.a.useForm(),b=Object(o.a)(c,1)[0],y=[{name:\"title\",label:\"Title\",rules:[{required:!0,message:\"Please input photo title!\"}],children:I(u.a,{placeholder:\"Title Photo\"})},{name:\"galleryId\",label:\"Gallery\",rules:[{required:!0,message:\"please select photo gallery\"}],children:I(S,{form:b,defaultGalleryId:a.galleryId})},{name:\"description\",label:\"Description\",children:I(u.a.TextArea,{placeholder:\"Title Description\"})},{name:\"status\",label:\"Status\",children:I(s.a.Group,null,q.map((function(e){return I(s.a,{value:e.key,key:e.key},e.name)})))}],O=i.a.useState(a.photo?a.photo.url:null),m=Object(o.a)(O,2),j=m[0],g=m[1];return I(l.a,Object(r.a)({},N.e,{form:b,onFinish:t,name:\"photoCreatingForm\",initialValues:K(K({},R),a),layout:\"vertical\"}),I(F.a,{fields:y}),I(l.a.Item,{name:\"photo\",label:\"Photo File\"},I(p.a,{showUploadList:!1,accept:\"image/*\",customRequest:function(){return!0},onChange:function(e){var t=new FileReader;return t.onload=function(e){g(e.target.result)},t.readAsDataURL(e.file.originFileObj),!1}},I(d.a,null,I(v.a,null),\" \",\"Upload File\"))),j&&I(l.a.Item,null,I(\"img\",{src:j,style:B,alt:\"\"})),I(l.a.Item,N.n,I(f.b,null,I(d.a,{type:\"primary\",htmlType:\"submit\",disabled:n,loading:n},\"Save Changes\"),I(d.a,{type:\"primary\",onClick:function(){return h.a.back()}},\"Back\"))))};_.defaultProps={photo:null};t.a=_},x1Ya:function(e,t,n){\"use strict\";var r=n(\"wx14\"),a=n(\"rePB\"),o=n(\"Ff2n\"),c=n(\"VTBJ\"),i=n(\"1OyB\"),l=n(\"vuIU\"),u=n(\"Ji7U\"),s=n(\"LK+K\"),p=n(\"q1tI\"),d=n.n(p),f=n(\"TSYQ\"),b=n.n(f),h=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e){var r;Object(i.a)(this,n),(r=t.call(this,e)).handleChange=function(e){var t=r.props,n=t.disabled,a=t.onChange;n||(\"checked\"in r.props||r.setState({checked:e.target.checked}),a&&a({target:Object(c.a)(Object(c.a)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var a=\"checked\"in e?e.checked:e.defaultChecked;return r.state={checked:a},r}return Object(l.a)(n,[{key:\"focus\",value:function(){this.input.focus()}},{key:\"blur\",value:function(){this.input.blur()}},{key:\"render\",value:function(){var e,t=this.props,n=t.prefixCls,c=t.className,i=t.style,l=t.name,u=t.id,s=t.type,p=t.disabled,f=t.readOnly,h=t.tabIndex,v=t.onClick,y=t.onFocus,O=t.onBlur,m=t.onKeyDown,j=t.onKeyPress,g=t.onKeyUp,k=t.autoFocus,w=t.value,x=t.required,P=Object(o.a)(t,[\"prefixCls\",\"className\",\"style\",\"name\",\"id\",\"type\",\"disabled\",\"readOnly\",\"tabIndex\",\"onClick\",\"onFocus\",\"onBlur\",\"onKeyDown\",\"onKeyPress\",\"onKeyUp\",\"autoFocus\",\"value\",\"required\"]),C=Object.keys(P).reduce((function(e,t){return\"aria-\"!==t.substr(0,5)&&\"data-\"!==t.substr(0,5)&&\"role\"!==t||(e[t]=P[t]),e}),{}),E=this.state.checked,S=b()(n,c,(e={},Object(a.a)(e,\"\".concat(n,\"-checked\"),E),Object(a.a)(e,\"\".concat(n,\"-disabled\"),p),e));return d.a.createElement(\"span\",{className:S,style:i},d.a.createElement(\"input\",Object(r.a)({name:l,id:u,type:s,required:x,readOnly:f,disabled:p,tabIndex:h,className:\"\".concat(n,\"-input\"),checked:!!E,onClick:v,onFocus:y,onBlur:O,onKeyUp:g,onKeyDown:m,onKeyPress:j,onChange:this.handleChange,autoFocus:k,ref:this.saveInput,value:w},C)),d.a.createElement(\"span\",{className:\"\".concat(n,\"-inner\")}))}}],[{key:\"getDerivedStateFromProps\",value:function(e,t){return\"checked\"in e?Object(c.a)(Object(c.a)({},t),{},{checked:e.checked}):null}}]),n}(p.Component);h.defaultProps={prefixCls:\"rc-checkbox\",className:\"\",style:{},type:\"checkbox\",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.a=h},z7Xi:function(e,t,n){\"use strict\";var r=n(\"q1tI\"),a={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\"}}]},name:\"upload\",theme:\"outlined\"},o=n(\"6VBw\"),c=function(e,t){return r.createElement(o.a,Object.assign({},e,{ref:t,icon:a}))};c.displayName=\"UploadOutlined\";t.a=r.forwardRef(c)}},[[\"jexl\",0,1,4,5,3,2,6,7,10,9,11,12,13,14,15,16,17,18,19,20,21,22,23,30,36,8]]]);","extractedComments":[]}