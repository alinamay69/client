{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[105],{\"/kpp\":function(e,t,r){\"use strict\";var n=r(\"rePB\"),a=r(\"wx14\"),c=r(\"U8pU\"),o=r(\"q1tI\"),s=r(\"TSYQ\"),i=r.n(s),u=r(\"o/2+\"),l=r(\"H84U\"),f=r(\"R3zJ\"),d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};var b=[\"xs\",\"sm\",\"md\",\"lg\",\"xl\",\"xxl\"],p=o.forwardRef((function(e,t){var r,s=o.useContext(l.b),p=s.getPrefixCls,m=s.direction,v=o.useContext(u.a),O=v.gutter,h=v.wrap,j=e.prefixCls,y=e.span,g=e.order,E=e.offset,P=e.push,x=e.pull,S=e.className,R=e.children,w=e.flex,C=e.style,k=d(e,[\"prefixCls\",\"span\",\"order\",\"offset\",\"push\",\"pull\",\"className\",\"children\",\"flex\",\"style\"]),_=p(\"col\",j),I={};b.forEach((function(t){var r,o={},s=e[t];\"number\"===typeof s?o.span=s:\"object\"===Object(c.a)(s)&&(o=s||{}),delete k[t],I=Object(a.a)(Object(a.a)({},I),(r={},Object(n.a)(r,\"\".concat(_,\"-\").concat(t,\"-\").concat(o.span),void 0!==o.span),Object(n.a)(r,\"\".concat(_,\"-\").concat(t,\"-order-\").concat(o.order),o.order||0===o.order),Object(n.a)(r,\"\".concat(_,\"-\").concat(t,\"-offset-\").concat(o.offset),o.offset||0===o.offset),Object(n.a)(r,\"\".concat(_,\"-\").concat(t,\"-push-\").concat(o.push),o.push||0===o.push),Object(n.a)(r,\"\".concat(_,\"-\").concat(t,\"-pull-\").concat(o.pull),o.pull||0===o.pull),Object(n.a)(r,\"\".concat(_,\"-rtl\"),\"rtl\"===m),r))}));var T=i()(_,(r={},Object(n.a)(r,\"\".concat(_,\"-\").concat(y),void 0!==y),Object(n.a)(r,\"\".concat(_,\"-order-\").concat(g),g),Object(n.a)(r,\"\".concat(_,\"-offset-\").concat(E),E),Object(n.a)(r,\"\".concat(_,\"-push-\").concat(P),P),Object(n.a)(r,\"\".concat(_,\"-pull-\").concat(x),x),r),S,I),N={};if(O&&O[0]>0){var M=O[0]/2;N.paddingLeft=M,N.paddingRight=M}if(O&&O[1]>0&&!Object(f.b)()){var A=O[1]/2;N.paddingTop=A,N.paddingBottom=A}return w&&(N.flex=function(e){return\"number\"===typeof e?\"\".concat(e,\" \").concat(e,\" auto\"):/^\\d+(\\.\\d+)?(px|em|rem|%)$/.test(e)?\"0 0 \".concat(e):e}(w),\"auto\"!==w||!1!==h||N.minWidth||(N.minWidth=0)),o.createElement(\"div\",Object(a.a)({},k,{style:Object(a.a)(Object(a.a)({},N),C),className:T,ref:t}),R)}));p.displayName=\"Col\",t.a=p},\"6cGi\":function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return c}));var n=r(\"ODXe\"),a=r(\"q1tI\");function c(e,t){var r=t||{},c=r.defaultValue,o=r.value,s=r.onChange,i=r.postState,u=a.useState((function(){return void 0!==o?o:void 0!==c?\"function\"===typeof c?c():c:\"function\"===typeof e?e():e})),l=Object(n.a)(u,2),f=l[0],d=l[1],b=void 0!==o?o:f;i&&(b=i(b));var p=a.useRef(!0);return a.useEffect((function(){p.current?p.current=!1:void 0===o&&d(o)}),[o]),[b,function(e){d(e),b!==e&&s&&s(e,b)}]}},\"8Skl\":function(e,t,r){\"use strict\";var n=r(\"q1tI\"),a={name:\"down\",theme:\"outlined\",icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z\"}}]}},c=r(\"6VBw\"),o=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:a}))};o.displayName=\"DownOutlined\";t.a=n.forwardRef(o)},KrTs:function(e,t,r){\"use strict\";var n=r(\"rePB\"),a=r(\"U8pU\"),c=r(\"wx14\"),o=r(\"q1tI\"),s=r(\"8XRh\"),i=r(\"TSYQ\"),u=r.n(i),l=r(\"H84U\"),f=r(\"0n0R\"),d=r(\"ODXe\");function b(e){var t,r=e.prefixCls,n=e.value,a=e.current,c=e.offset,s=void 0===c?0:c;return s&&(t={position:\"absolute\",top:\"\".concat(s,\"00%\"),left:0}),o.createElement(\"p\",{style:t,className:u()(\"\".concat(r,\"-only-unit\"),{current:a})},n)}function p(e,t,r){for(var n=e,a=0;(n+10)%10!==t;)n+=r,a+=r;return a}function m(e){var t,r,n=e.prefixCls,a=e.count,s=e.value,i=Number(s),u=Math.abs(a),l=o.useState(i),f=Object(d.a)(l,2),m=f[0],v=f[1],O=o.useState(u),h=Object(d.a)(O,2),j=h[0],y=h[1],g=function(){v(i),y(u)};if(o.useEffect((function(){var e=setTimeout((function(){g()}),1e3);return function(){clearTimeout(e)}}),[i]),m===i||Number.isNaN(i)||Number.isNaN(m))t=[o.createElement(b,Object(c.a)({},e,{key:i,current:!0}))],r={transition:\"none\"};else{t=[];for(var E=i+10,P=[],x=i;x<=E;x+=1)P.push(x);var S=P.findIndex((function(e){return e%10===m}));t=P.map((function(t,r){var n=t%10;return o.createElement(b,Object(c.a)({},e,{key:t,value:n,offset:r-S,current:r===S}))})),r={transform:\"translateY(\".concat(-p(m,i,j<u?1:-1),\"00%)\")}}return o.createElement(\"span\",{className:\"\".concat(n,\"-only\"),style:r,onTransitionEnd:g},t)}var v=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},O=function(e){var t=e.prefixCls,r=e.count,n=e.className,a=e.motionClassName,s=e.style,i=e.title,d=e.show,b=e.component,p=void 0===b?\"sup\":b,O=e.children,h=v(e,[\"prefixCls\",\"count\",\"className\",\"motionClassName\",\"style\",\"title\",\"show\",\"component\",\"children\"]),j=(0,o.useContext(l.b).getPrefixCls)(\"scroll-number\",t),y=Object(c.a)(Object(c.a)({},h),{\"data-show\":d,style:s,className:u()(j,n,a),title:i}),g=r;if(r&&Number(r)%1===0){var E=String(r).split(\"\");g=E.map((function(e,t){return o.createElement(m,{prefixCls:j,count:Number(r),value:e,key:E.length-t})}))}return s&&s.borderColor&&(y.style=Object(c.a)(Object(c.a)({},s),{boxShadow:\"0 0 0 1px \".concat(s.borderColor,\" inset\")})),O?Object(f.a)(O,(function(e){return{className:u()(\"\".concat(j,\"-custom-component\"),null===e||void 0===e?void 0:e.className,a)}})):o.createElement(p,y,g)},h=r(\"09Wf\");function j(e){return-1!==h.a.indexOf(e)}var y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},g=function(e){var t,r,i=e.prefixCls,d=e.scrollNumberPrefixCls,b=e.children,p=e.status,m=e.text,v=e.color,h=e.count,g=void 0===h?null:h,E=e.overflowCount,P=void 0===E?99:E,x=e.dot,S=void 0!==x&&x,R=e.size,w=void 0===R?\"default\":R,C=e.title,k=e.offset,_=e.style,I=e.className,T=e.showZero,N=void 0!==T&&T,M=y(e,[\"prefixCls\",\"scrollNumberPrefixCls\",\"children\",\"status\",\"text\",\"color\",\"count\",\"overflowCount\",\"dot\",\"size\",\"title\",\"offset\",\"style\",\"className\",\"showZero\"]),A=o.useContext(l.b),U=A.getPrefixCls,D=A.direction,G=U(\"badge\",i),F=g>P?\"\".concat(P,\"+\"):g,L=null!==p&&void 0!==p||null!==v&&void 0!==v,B=\"0\"===F||0===F,H=S&&!B||L,z=H?\"\":F,q=Object(o.useMemo)((function(){return(null===z||void 0===z||\"\"===z||B&&!N)&&!H}),[z,B,N,H]),V=Object(o.useRef)(g);q||(V.current=g);var Y=V.current,J=Object(o.useRef)(z);q||(J.current=z);var Q=J.current,X=Object(o.useRef)(H);q||(X.current=H);var W=Object(o.useMemo)((function(){if(!k)return Object(c.a)({},_);var e={marginTop:k[1]};return\"rtl\"===D?e.left=parseInt(k[0],10):e.right=-parseInt(k[0],10),Object(c.a)(Object(c.a)({},e),_)}),[D,k,_]),K=null!==C&&void 0!==C?C:\"string\"===typeof Y||\"number\"===typeof Y?Y:void 0,Z=q||!m?null:o.createElement(\"span\",{className:\"\".concat(G,\"-status-text\")},m),$=Y&&\"object\"===Object(a.a)(Y)?Object(f.a)(Y,(function(e){return{style:Object(c.a)(Object(c.a)({},W),e.style)}})):void 0,ee=u()((t={},Object(n.a)(t,\"\".concat(G,\"-status-dot\"),L),Object(n.a)(t,\"\".concat(G,\"-status-\").concat(p),!!p),Object(n.a)(t,\"\".concat(G,\"-status-\").concat(v),j(v)),t)),te={};v&&!j(v)&&(te.background=v);var re=u()(G,(r={},Object(n.a)(r,\"\".concat(G,\"-status\"),L),Object(n.a)(r,\"\".concat(G,\"-not-a-wrapper\"),!b),Object(n.a)(r,\"\".concat(G,\"-rtl\"),\"rtl\"===D),r),I);if(!b&&L){var ne=W.color;return o.createElement(\"span\",Object(c.a)({},M,{className:re,style:W}),o.createElement(\"span\",{className:ee,style:te}),o.createElement(\"span\",{style:{color:ne},className:\"\".concat(G,\"-status-text\")},m))}return o.createElement(\"span\",Object(c.a)({},M,{className:re}),b,o.createElement(s.default,{visible:!q,motionName:\"\".concat(G,\"-zoom\"),motionAppear:!1},(function(e){var t,r=e.className,a=U(\"scroll-number\",d),s=X.current,i=u()((t={},Object(n.a)(t,\"\".concat(G,\"-dot\"),s),Object(n.a)(t,\"\".concat(G,\"-count\"),!s),Object(n.a)(t,\"\".concat(G,\"-count-sm\"),\"small\"===w),Object(n.a)(t,\"\".concat(G,\"-multiple-words\"),!s&&Q&&(null===Q||void 0===Q?void 0:Q.toString().length)>1),Object(n.a)(t,\"\".concat(G,\"-status-\").concat(p),!!p),Object(n.a)(t,\"\".concat(G,\"-status-\").concat(v),j(v)),t)),l=Object(c.a)({},W);return v&&!j(v)&&((l=l||{}).background=v),o.createElement(O,{prefixCls:a,show:!q,motionClassName:r,className:i,count:Q,title:K,style:l,key:\"scrollNumber\"},$)})),Z)};g.Ribbon=function(e){var t,r=e.className,a=e.prefixCls,s=e.style,i=e.color,f=e.children,d=e.text,b=e.placement,p=void 0===b?\"end\":b,m=o.useContext(l.b),v=m.getPrefixCls,O=m.direction,h=v(\"ribbon\",a),y=j(i),g=u()(h,\"\".concat(h,\"-placement-\").concat(p),(t={},Object(n.a)(t,\"\".concat(h,\"-rtl\"),\"rtl\"===O),Object(n.a)(t,\"\".concat(h,\"-color-\").concat(i),y),t),r),E={},P={};return i&&!y&&(E.background=i,P.color=i),o.createElement(\"div\",{className:\"\".concat(h,\"-wrapper\")},f,o.createElement(\"div\",{className:g,style:Object(c.a)(Object(c.a)({},E),s)},o.createElement(\"span\",{className:\"\".concat(h,\"-text\")},d),o.createElement(\"div\",{className:\"\".concat(h,\"-corner\"),style:P})))};t.a=g},R3zJ:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return c})),r.d(t,\"b\",(function(){return o}));var n,a=r(\"MNnm\"),c=function(){return Object(a.a)()&&window.document.documentElement},o=function(){if(!c())return!1;if(void 0!==n)return n;var e=document.createElement(\"div\");return e.style.display=\"flex\",e.style.flexDirection=\"column\",e.style.rowGap=\"1px\",e.appendChild(document.createElement(\"div\")),e.appendChild(document.createElement(\"div\")),document.body.appendChild(e),n=1===e.scrollHeight,document.body.removeChild(e),n}},WT8E:function(e,t,r){\"use strict\";r.d(t,\"w\",(function(){return c})),r.d(t,\"y\",(function(){return o})),r.d(t,\"x\",(function(){return s})),r.d(t,\"H\",(function(){return u})),r.d(t,\"J\",(function(){return l})),r.d(t,\"I\",(function(){return f})),r.d(t,\"Q\",(function(){return d})),r.d(t,\"cb\",(function(){return p})),r.d(t,\"eb\",(function(){return m})),r.d(t,\"db\",(function(){return v})),r.d(t,\"U\",(function(){return O})),r.d(t,\"ab\",(function(){return h})),r.d(t,\"Y\",(function(){return j})),r.d(t,\"Z\",(function(){return y})),r.d(t,\"V\",(function(){return g})),r.d(t,\"fb\",(function(){return E})),r.d(t,\"X\",(function(){return P})),r.d(t,\"z\",(function(){return S})),r.d(t,\"B\",(function(){return R})),r.d(t,\"A\",(function(){return w})),r.d(t,\"O\",(function(){return C})),r.d(t,\"P\",(function(){return k})),r.d(t,\"K\",(function(){return _})),r.d(t,\"n\",(function(){return T})),r.d(t,\"p\",(function(){return N})),r.d(t,\"o\",(function(){return M})),r.d(t,\"M\",(function(){return A})),r.d(t,\"c\",(function(){return U})),r.d(t,\"E\",(function(){return D})),r.d(t,\"e\",(function(){return F})),r.d(t,\"g\",(function(){return L})),r.d(t,\"f\",(function(){return B})),r.d(t,\"L\",(function(){return H})),r.d(t,\"t\",(function(){return q})),r.d(t,\"v\",(function(){return V})),r.d(t,\"u\",(function(){return Y})),r.d(t,\"N\",(function(){return J})),r.d(t,\"G\",(function(){return Q})),r.d(t,\"q\",(function(){return W})),r.d(t,\"s\",(function(){return K})),r.d(t,\"r\",(function(){return Z})),r.d(t,\"T\",(function(){return $})),r.d(t,\"d\",(function(){return ee})),r.d(t,\"F\",(function(){return te})),r.d(t,\"k\",(function(){return ne})),r.d(t,\"m\",(function(){return ae})),r.d(t,\"l\",(function(){return ce})),r.d(t,\"S\",(function(){return oe})),r.d(t,\"b\",(function(){return se})),r.d(t,\"D\",(function(){return ie})),r.d(t,\"h\",(function(){return le})),r.d(t,\"j\",(function(){return fe})),r.d(t,\"i\",(function(){return de})),r.d(t,\"R\",(function(){return be})),r.d(t,\"a\",(function(){return pe})),r.d(t,\"C\",(function(){return me})),r.d(t,\"W\",(function(){return ve})),r.d(t,\"bb\",(function(){return Oe}));var n=r(\"vo7w\"),a=Object(n.b)(\"getPerformerCategories\",\"GET_PERFORMER_CATEGORIES\"),c=a.getPerformerCategories,o=a.getPerformerCategoriesSuccess,s=a.getPerformerCategoriesFail,i=Object(n.b)(\"searchPerformer\",\"SEARCH_PERFORMER\"),u=i.searchPerformer,l=i.searchPerformerSuccess,f=i.searchPerformerFail,d=Object(n.a)(\"SET_PERFORMER_SEARCHING\"),b=Object(n.b)(\"updatePerformerProfile\",\"UPDATE_PERFORMER_PROFILE\"),p=b.updatePerformerProfile,m=b.updatePerformerProfileSuccess,v=b.updatePerformerProfileFail,O=Object(n.a)(\"updatingPerformerProfile\"),h=Object(n.a)(\"UPDATE_PAYMENT_INFO\"),j=Object(n.a)(\"UPDATE_DIRECT_DEPOSIT\"),y=Object(n.a)(\"UPDATE_PAXUM\"),g=Object(n.a)(\"UPDATE_BITPAY\"),E=Object(n.a)(\"UPDATE_STREAMING_STATUS\"),P=Object(n.a)(\"UPDATE_DEFAULT_PRICE\"),x=Object(n.b)(\"getPerformerDetails\",\"GET_PERFORMER_DETAILS\"),S=x.getPerformerDetails,R=x.getPerformerDetailsSuccess,w=x.getPerformerDetailsFail,C=Object(n.a)(\"setGettingPerformerDetails\"),k=Object(n.a)(\"SET_PERFORMER_DETAILS\"),_=Object(n.a)(\"SET_FAVORITE_PERFORMER_DETAILS\"),I=Object(n.b)(\"getMyProducts\",\"GET_MY_PRODUCT\"),T=I.getMyProducts,N=I.getMyProductsSuccess,M=I.getMyProductsFail,A=Object(n.a)(\"setGettingMyProducts\"),U=Object(n.a)(\"addMyProduct\"),D=Object(n.a)(\"removeMyProduct\"),G=Object(n.b)(\"getEarning\",\"GET_EARNING\"),F=G.getEarning,L=G.getEarningSuccess,B=G.getEarningFail,H=Object(n.a)(\"SET_GETTING_EARNIG\"),z=Object(n.b)(\"getPayoutRequest\",\"GET_PAYOUT_REQUEST\"),q=z.getPayoutRequest,V=z.getPayoutRequestSuccess,Y=z.getPayoutRequestFail,J=Object(n.a)(\"SET_GETTING_PAYOUT_REQUEST\"),Q=Object(n.a)(\"REMOVE_PAYOUT_REQUEST\"),X=Object(n.b)(\"getMyVideos\",\"GET_MY_VIDEO\"),W=X.getMyVideos,K=X.getMyVideosSuccess,Z=X.getMyVideosFail,$=Object(n.a)(\"setgettingMyVideos\"),ee=Object(n.a)(\"addMyVideos\"),te=Object(n.a)(\"removeMyVideo\"),re=Object(n.b)(\"getMyPhotos\",\"GET_MY_PHOTO\"),ne=re.getMyPhotos,ae=re.getMyPhotosSuccess,ce=re.getMyPhotosFail,oe=Object(n.a)(\"setgettingMyPhotos\"),se=Object(n.a)(\"addMyPhotos\"),ie=Object(n.a)(\"removeMyPhoto\"),ue=Object(n.b)(\"getMyGalleries\",\"GET_MY_GALLERIES\"),le=ue.getMyGalleries,fe=ue.getMyGalleriesSuccess,de=ue.getMyGalleriesFail,be=Object(n.a)(\"setgettingMyGalleries\"),pe=Object(n.a)(\"addMyGalleries\"),me=Object(n.a)(\"removeMyGalleries\"),ve=Object(n.a)(\"updateCurrentPerformer\"),Oe=Object(n.a)(\"UPDATE_PERFORMER_FAVOURITE\")},bEyJ:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/live\",function(){return r(\"u02R\")}])},\"l+S1\":function(e,t,r){\"use strict\";var n=r(\"q1tI\"),a={name:\"search\",theme:\"outlined\",icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\"}}]}},c=r(\"6VBw\"),o=function(e,t){return n.createElement(c.a,Object.assign({},e,{ref:t,icon:a}))};o.displayName=\"SearchOutlined\";t.a=n.forwardRef(o)},\"o/2+\":function(e,t,r){\"use strict\";var n=r(\"q1tI\"),a=Object(n.createContext)({});t.a=a},qrJ5:function(e,t,r){\"use strict\";var n=r(\"wx14\"),a=r(\"rePB\"),c=r(\"U8pU\"),o=r(\"ODXe\"),s=r(\"q1tI\"),i=r(\"TSYQ\"),u=r.n(i),l=r(\"H84U\"),f=r(\"o/2+\"),d=r(\"CWQg\"),b=r(\"ACnJ\"),p=r(\"R3zJ\"),m=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},v=(Object(d.a)(\"top\",\"middle\",\"bottom\",\"stretch\"),Object(d.a)(\"start\",\"end\",\"center\",\"space-around\",\"space-between\"),s.forwardRef((function(e,t){var r,i=e.prefixCls,d=e.justify,v=e.align,O=e.className,h=e.style,j=e.children,y=e.gutter,g=void 0===y?0:y,E=e.wrap,P=m(e,[\"prefixCls\",\"justify\",\"align\",\"className\",\"style\",\"children\",\"gutter\",\"wrap\"]),x=s.useContext(l.b),S=x.getPrefixCls,R=x.direction,w=s.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),C=Object(o.a)(w,2),k=C[0],_=C[1],I=s.useRef(g);s.useEffect((function(){var e=b.a.subscribe((function(e){var t=I.current||0;(!Array.isArray(t)&&\"object\"===Object(c.a)(t)||Array.isArray(t)&&(\"object\"===Object(c.a)(t[0])||\"object\"===Object(c.a)(t[1])))&&_(e)}));return function(){return b.a.unsubscribe(e)}}),[]);var T=S(\"row\",i),N=function(){var e=[0,0];return(Array.isArray(g)?g:[g,0]).forEach((function(t,r){if(\"object\"===Object(c.a)(t))for(var n=0;n<b.b.length;n++){var a=b.b[n];if(k[a]&&void 0!==t[a]){e[r]=t[a];break}}else e[r]=t||0})),e}(),M=u()(T,(r={},Object(a.a)(r,\"\".concat(T,\"-no-wrap\"),!1===E),Object(a.a)(r,\"\".concat(T,\"-\").concat(d),d),Object(a.a)(r,\"\".concat(T,\"-\").concat(v),v),Object(a.a)(r,\"\".concat(T,\"-rtl\"),\"rtl\"===R),r),O),A={},U=N[0]>0?N[0]/-2:void 0,D=N[1]>0?N[1]/-2:void 0;if(A.marginLeft=U,A.marginRight=U,Object(p.b)()){var G=Object(o.a)(N,2);A.rowGap=G[1]}else A.marginTop=D,A.marginBottom=D;return s.createElement(f.a.Provider,{value:{gutter:N,wrap:E}},s.createElement(\"div\",Object(n.a)({},P,{className:M,style:Object(n.a)(Object(n.a)({},A),h),ref:t}),j))})));v.displayName=\"Row\",t.a=v},u02R:function(e,t,r){\"use strict\";r.r(t);var n=r(\"wx14\"),a=r(\"KQm4\"),c=r(\"o0o1\"),o=r.n(c),s=r(\"HaE+\"),i=r(\"1OyB\"),u=r(\"vuIU\"),l=r(\"JX7q\"),f=r(\"Ji7U\"),d=r(\"md7G\"),b=r(\"foSv\"),p=r(\"rePB\"),m=r(\"q1tI\"),v=r.n(m),O=r(\"8Kt/\"),h=r.n(O),j=r(\"tsqr\"),y=r(\"BMrR\"),g=r(\"kPKH\"),E=r(\"2/Rp\"),P=r(\"/MKj\"),x=r(\"CLrh\"),S=r(\"HQdG\"),R=r(\"KrTs\"),w=r(\"NsEo\"),C=(r(\"LJzH\"),v.a.createElement);function k(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(b.a)(e);if(t){var a=Object(b.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}var _,I=function(e){Object(f.a)(r,e);var t=k(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).state={streamId:\"\",processing:!1},n}return Object(u.a)(r,[{key:\"componentDidUpdate\",value:function(e){var t=this.props.publish_started;this.state.processing&&t!==e.publish_started&&this.handleProcessing(!1)}},{key:\"handlePublishing\",value:function(){var e=Object(s.a)(o.a.mark((function e(t){var r,n,a,c,s,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,n=r.webRTCAdaptor,a=r.leaveSession,c=r.settings,e.prev=1,e.next=4,x.p.getPublishToken({streamId:t,settings:c});case 4:s=e.sent,n.publish(t,s),e.next=15;break;case 8:return e.prev=8,e.t0=e.catch(1),e.next=12,Promise.resolve(e.t0);case 12:i=e.sent,j.b.error(Object(w.g)(i)),a();case 15:case\"end\":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"handleProcessing\",value:function(e){this.setState({processing:e})}},{key:\"handleOnOffStream\",value:function(){var e=this.props,t=e.publish_started,r=e.webRTCAdaptor,n=this.state.streamId;n&&(this.handleProcessing(!0),t?r.stop(n):this.handlePublishing(n))}},{key:\"publish\",value:function(e){var t=this.props.initialized;this.setState({streamId:e}),t&&this.handlePublishing(e)}},{key:\"start\",value:function(){(0,this.props.initWebRTCAdaptor)()}},{key:\"stop\",value:function(){window.location.reload()}},{key:\"render\",value:function(){var e=this.props,t=e.initialized,r=e.publish_started,n={id:\"publisher\",autoPlay:!0,muted:!0,controls:!0,playsInline:!0,width:\"100%\",hidden:!r};return C(\"div\",{style:{minHeight:300},className:\"text-center\"},t&&C(E.a,{type:\"default\",onClick:this.stop.bind(this),block:!0,className:\"mb-10\"},\"Stop Streaming\"),C(\"video\",n),r&&C(R.a,{status:\"success\",text:C(\"span\",{className:\"badge-success\"},\"Publishing\")}))}}]),r}(m.PureComponent),T=Object(S.a)(I),N=r(\"AY7M\"),M=r(\"gxiY\"),A=r(\"WT8E\"),U=r(\"MoJi\"),D=r(\"L/eJ\"),G=r(\"ODXe\"),F=r(\"5rEg\"),L=v.a.createElement,B=function(e){var t=e.status,r=e.updating,n=e.submit,a=v.a.useState(t),c=Object(G.a)(a,2),o=c[0],s=c[1];return L(y.a,{gutter:{sm:10,xs:0}},L(g.a,{lg:20,md:18,sm:24,xs:24},L(F.a,{placeholder:\"Update your status\",value:o,onChange:function(e){return s(e.target.value)}})),L(g.a,{lg:4,md:6,sm:24,xs:24},L(E.a,{type:\"primary\",onClick:function(){n(o)},loading:r,className:\"mb-10\",block:!0,disabled:r},\"Update\")))},H=r(\"nOHt\"),z=r.n(H),q=(r(\"jNaB\"),v.a.createElement);function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(b.a)(e);if(t){var a=Object(b.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(d.a)(this,r)}}!function(e){e.ROOM_INFORMATIOM_CHANGED=\"public-room-changed\",e.USER_LEFT_ROOM=\"USER_LEFT_ROOM\"}(_||(_={}));var Q=function(e){Object(f.a)(r,e);var t=J(r);function r(e){var n;return Object(i.a)(this,r),n=t.call(this,e),Object(p.a)(Object(l.a)(n),\"publisherRef\",void 0),Object(p.a)(Object(l.a)(n),\"blockedUserIds\",[]),Object(p.a)(Object(l.a)(n),\"socket\",void 0),Object(p.a)(Object(l.a)(n),\"onbeforeunload\",(function(){n.leavePublicRoom()})),n.state={loading:!1,initialized:!1,sessionId:\"\",total:0,members:[]},n}return Object(u.a)(r,[{key:\"componentDidMount\",value:function(){this.socket=this.context,this.joinPublicRoom(),window.addEventListener(\"beforeunload\",this.onbeforeunload),z.a.events.on(\"routeChangeStart\",this.onbeforeunload)}},{key:\"componentDidUpdate\",value:function(e){var t=this.props,r=t.updateSuccess,n=t.updateError;e.updateSuccess!==r&&r&&j.b.success(\"Update Status Success.\"),e.updateError!==n&&n&&j.b.error(Object(w.g)(n))}},{key:\"componentWillUnmount\",value:function(){window.removeEventListener(\"beforeunload\",this.onbeforeunload),z.a.events.off(\"routeChangeStart\",this.onbeforeunload)}},{key:\"handler\",value:function(e){var t,r=e.total,n=e.members,a=e.conversationId,c=this.props.activeConversation;null!==c&&void 0!==c&&null!==(t=c.data)&&void 0!==t&&t._id&&c.data._id===a&&this.setState({total:r,members:n})}},{key:\"handleUpdateStatusForm\",value:function(e){(0,this.props.updateStreamingStatus)(e)}},{key:\"getBlockedList\",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.j.getBlockedList();case 3:t=e.sent,this.blockedUserIds=t.data.userIds,e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Promise.resolve(e.t0);case 11:r=e.sent,j.b.error(Object(w.g)(r));case 13:case\"end\":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:\"start\",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,r,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState({loading:!0}),e.next=4,x.p.goLive();case 4:t=e.sent,r=t.data.sessionId,this.setState({sessionId:r}),this.publisherRef&&this.publisherRef.start(),e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(0),e.next=14,Promise.resolve(e.t0);case 14:n=e.sent,j.b.error(Object(w.g)(n));case 16:return e.prev=16,this.setState({loading:!1}),e.finish(16);case 19:case\"end\":return e.stop()}}),e,this,[[0,10,16,19]])})));return function(){return e.apply(this,arguments)}}()},{key:\"callback\",value:function(e){var t=this.props.activeConversation,r=this.state.sessionId;if(t&&t.data)if(this.socket=this.context,e===U.a.INITIALIZED)this.setState({initialized:!0}),this.publisherRef&&this.publisherRef.publish(r);else if(e===U.a.PUBLISH_STARTED){var n=Y({},t.data);this.socket.emit(\"public-stream/live\",{conversationId:n._id}),this.setState({loading:!1})}else e===U.a.PUBLISH_FINISHED?this.setState({loading:!1}):e===U.a.CLOSED&&this.setState({loading:!1,initialized:!1})}},{key:\"joinPublicRoom\",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,r,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.getStreamConversation,this.socket=this.context,e.prev=2,this.setState({loading:!0}),e.next=6,x.p.goLive();case 6:r=e.sent,(n=r.data.conversation)&&n._id&&(t({conversation:n}),this.socket&&this.socket.emit(\"public-stream/join\",{conversationId:n._id})),e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(2),e.next=15,Promise.resolve(e.t0);case 15:a=e.sent,j.b.error(Object(w.g)(a));case 17:return e.prev=17,this.setState({loading:!1}),e.finish(17);case 20:case\"end\":return e.stop()}}),e,this,[[2,11,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:\"leavePublicRoom\",value:function(){var e=this.props,t=e.activeConversation,r=e.resetStreamMessage;if(this.socket&&t&&t.data){var n=Y({},t.data);this.socket.emit(\"public-stream/leave\",{conversationId:n._id}),r()}}},{key:\"userLeftRoomHandle\",value:function(e){var t,r=e.username,n=e.conversationId,a=this.props.activeConversation;if(null!==a&&void 0!==a&&null!==(t=a.data)&&void 0!==t&&t._id&&n===a.data._id){var c=this.state,o=c.total,s=c.members;this.setState({total:o-1,members:s.filter((function(e){return e.username!==r}))})}}},{key:\"removeAllMessage\",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t,r,n,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,r=t.activeConversation,n=t.performer,a=t.resetAllStreamMessage,r.data&&n._id===r.data.performerId){e.next=3;break}return e.abrupt(\"return\");case 3:if(e.prev=3,window.confirm(\"Are you sure you want to remove chat history?\")){e.next=6;break}return e.abrupt(\"return\");case 6:return e.next=8,x.f.deleteAllMessageInConversation(r.data._id);case 8:a({conversationId:r.data._id}),e.next=17;break;case 11:return e.prev=11,e.t0=e.catch(3),e.next=15,Promise.resolve(e.t0);case 15:c=e.sent,j.b.error(Object(w.g)(c));case 17:case\"end\":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}()},{key:\"blockUser\",value:function(){var e=Object(s.a)(o.a.mark((function e(t){var r,n,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm(\"Are you sure to block this user?\")){e.next=2;break}return e.abrupt(\"return\");case 2:return e.prev=2,r=this.state,n=r.members,c=r.total,this.blockedUserIds=[].concat(Object(a.a)(this.blockedUserIds),[t]),e.next=7,x.j.geoBlock({userIds:this.blockedUserIds});case 7:this.setState({total:c-1,members:n.filter((function(e){return e._id!==t}))}),e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(2),e.next=14,Promise.resolve(e.t0);case 14:s=e.sent,j.b.error(Object(w.g)(s));case 16:case\"end\":return e.stop()}}),e,this,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this,t=this.props,r=t.performer,a=t.activeConversation,c=t.updating,o=this.state,s=o.loading,i=o.initialized,u=o.members,l=o.total;return q(v.a.Fragment,null,q(h.a,null,q(\"title\",null,\"Go Live\")),q(N.a,{event:_.ROOM_INFORMATIOM_CHANGED,handler:this.handler.bind(this)}),q(N.a,{event:_.USER_LEFT_ROOM,handler:this.userLeftRoomHandle.bind(this)}),q(y.a,null,q(g.a,{xs:24,sm:24,md:12},q(B,{status:r.streamingTitle,updating:c,submit:this.handleUpdateStatusForm.bind(this)}),!i&&q(E.a,{type:\"primary\",onClick:this.start.bind(this),loading:s,block:!0},\"Start Streaming\"),q(T,Object(n.a)({},this.props,{participantId:r._id,ref:function(t){return e.publisherRef=t},callback:this.callback.bind(this),configs:{debug:!0,bandwidth:900,localVideoId:\"publisher\"}}))),q(g.a,{xs:24,sm:24,md:12},q(D.a,Object(n.a)({},this.props,{members:u,totalParticipant:l,currentPerformer:r,blockUser:this.blockUser.bind(this)})),(null===a||void 0===a?void 0:a.data)&&q(\"div\",{style:{margin:\"10px\"}},q(E.a,{type:\"primary\",onClick:this.removeAllMessage.bind(this)},\"Clear message history\")))))}}]),r}(m.PureComponent);Object(p.a)(Q,\"authenticate\",!0),Q.contextType=N.c;var X={updateStreamingStatus:A.fb,getStreamConversation:M.d,resetStreamMessage:M.l,resetAllStreamMessage:M.k};t.default=Object(P.b)((function(e){return Y(Y({},e.streaming),{},{performer:e.performer.current,updating:e.performer.updating,updateSuccess:e.performer.updateSuccess,updateError:e.performer.updateError,activeConversation:e.streamMessage.activeConversation,loggedIn:e.auth.loggedIn})}),X)(Q)}},[[\"bEyJ\",0,1,4,5,3,2,6,7,8,10,11,12,13,14,15,17,20,23,25,26,29,30,9]]]);","extractedComments":[]}