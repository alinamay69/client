{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[72],{\"0JOW\":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/performer/photos\",function(){return r(\"Vf9i\")}])},M6VO:function(e,t,r){},Vf9i:function(e,t,r){\"use strict\";r.r(t);var n=r(\"o0o1\"),a=r.n(n),o=r(\"HaE+\"),c=r(\"1OyB\"),s=r(\"vuIU\"),i=r(\"Ji7U\"),l=r(\"md7G\"),u=r(\"foSv\"),p=r(\"rePB\"),f=r(\"q1tI\"),h=r.n(f),d=r(\"8Kt/\"),b=r.n(d),m=r(\"tsqr\"),v=r(\"zeV3\"),y=r(\"2/Rp\"),O=r(\"Y1dN\"),g=r(\"/MKj\"),j=r(\"WT8E\"),P=r(\"NsEo\"),w=r(\"nOHt\"),k=r.n(w),N=r(\"YFqc\"),E=r.n(N),x=r(\"mr32\"),C=r(\"bx4M\"),M=r(\"RotF\"),_=r.n(M),S=r(\"G3dp\"),R=r(\"rP/q\"),D=r(\"psLn\"),I=r(\"5aC+\"),q=(r(\"V/Nr\"),f.createElement),J=function(e){var t=e.data,r=e.searching,n=e.title,a=e.hasMore,o=e.addPhotos,c=e.success,s=e.remove;return q(_.a,{pageStart:0,loadMore:o,hasMore:a,loader:q(\"p\",{key:0},\"Loading...\")},q(C.a,{className:\"photo-grid\",title:n,bordered:!1},r?q(\"p\",null,\"Loading...\"):c&&(t.length>0?t.map((function(e){return q(C.a.Grid,{className:\"photo-box\",key:e._id},q(\"div\",{className:\"photo-thumbnail\"},q(\"img\",{src:e.photo.thumbnails[0]||\"/no-image.jpg\",alt:\"\"}),q(v.b,{className:\"actions\"},q(E.a,{href:{pathname:\"/account/performer/photos/update\",query:{data:JSON.stringify(e)}},as:\"/account/performer/photos/\".concat(e._id,\"/update\")},q(S.a,{style:{color:\"#ff0066\"}})),q(I.a,{confirm:function(){return s(e._id)}})),function(e){switch(e){case\"active\":return q(x.a,{color:\"#87d068\",className:\"photo-status\"},\"Active\");case\"inactive\":return q(x.a,{color:\"#f50\",className:\"photo-status\"},\"Inactive\");case\"draft\":return q(x.a,{className:\"photo-status\"},\"Inactive\");default:return q(f.Fragment,null)}}(e.status)),q(\"div\",{className:\"photo-info\"},q(\"span\",null,Object(R.a)(e.title))),q(\"div\",{className:\"photo-description\"},\"Created at\",\" \",Object(D.f)(e.createdAt,\"DD MMMM YYYY\")),q(\"div\",{className:\"photo-description\"},q(E.a,{href:{pathname:\"/account/performer/galleries/update\",query:{data:JSON.stringify(e.gallery)}},as:\"/account/performer/galleries/\".concat(e.gallery._id,\"/update\")},e.gallery.name)))})):q(\"p\",null,\"No items\"))))};J.defaultProps={success:!1,searching:!1,title:\"\",addPhotos:null,hasMore:!1,remove:null};var T=J,Y=(r(\"M6VO\"),r(\"CLrh\")),V=h.a.createElement;function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){Object(p.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(u.a)(e);if(t){var a=Object(u.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(l.a)(this,r)}}var L=function(e){Object(i.a)(r,e);var t=A(r);function r(e){var n;return Object(c.a)(this,r),(n=t.call(this,e)).state={limit:12,offset:0},n}return Object(s.a)(r,[{key:\"componentDidMount\",value:function(){this.loadPhotos()}},{key:\"onRemove\",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.removeMyPhoto,e.prev=1,e.next=4,Y.k.remove(t);case 4:m.b.success(\"Removed!\"),r(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.showError(e.t0);case 11:case\"end\":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"addPhotos\",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t,r,n,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.addMyPhotos,e.prev=1,r=this.state.limit,n=this.state.offset,n=r+n,e.next=7,Y.k.myPhotos(F(F({},this.state),{},{offset:n}));case 7:o=e.sent,t(o.data.data),this.setState({offset:n}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),this.showError(e.t0);case 15:case\"end\":return e.stop()}}),e,this,[[1,12]])})));return function(){return e.apply(this,arguments)}}()},{key:\"loadPhotos\",value:function(){(0,this.props.getMyPhotos)(F({},this.state))}},{key:\"showError\",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(t);case 2:r=e.sent,m.b.error(Object(P.g)(r));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.props,t=e.data,r=e.searching,n=e.total,a={data:t,searching:r,success:e.success,total:n,hasMore:!r&&t.length<n,addPhotos:this.addPhotos.bind(this),remove:this.onRemove.bind(this),title:\"\"};return V(h.a.Fragment,null,V(b.a,null,V(\"title\",null,\"My Photos\")),V(\"div\",{className:\"performer-photos-page\"},V(O.a,{title:\"Photos\",extra:V(v.b,null,V(y.a,{type:\"primary\",onClick:function(){return k.a.push(\"/account/performer/galleries/add\")}},\"Add a new gallery\"),V(y.a,{type:\"primary\",onClick:function(){return k.a.push(\"/account/performer/photos/add\")}},\"Add new photos\"))}),V(T,a)))}}]),r}(f.PureComponent);Object(p.a)(L,\"authenticate\",!0),Object(p.a)(L,\"layout\",\"primary\");var W={getMyPhotos:j.k,removeMyPhoto:j.D,addMyPhotos:j.b};t.default=Object(g.b)((function(e){return F({},e.performer.assets.photos)}),W)(L)},mr32:function(e,t,r){\"use strict\";var n=r(\"rePB\"),a=r(\"wx14\"),o=r(\"ODXe\"),c=r(\"q1tI\"),s=r(\"TSYQ\"),i=r.n(s),l=r(\"bT9E\"),u=r(\"4i/N\"),p=r(\"H84U\"),f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},h=function(e){var t,r=e.prefixCls,o=e.className,s=e.checked,l=e.onChange,u=e.onClick,h=f(e,[\"prefixCls\",\"className\",\"checked\",\"onChange\",\"onClick\"]),d=(0,c.useContext(p.b).getPrefixCls)(\"tag\",r),b=i()(d,(t={},Object(n.a)(t,\"\".concat(d,\"-checkable\"),!0),Object(n.a)(t,\"\".concat(d,\"-checkable-checked\"),s),t),o);return c.createElement(\"span\",Object(a.a)({},h,{className:b,onClick:function(e){null===l||void 0===l||l(!s),null===u||void 0===u||u(e)}}))},d=r(\"09Wf\"),b=r(\"g0mS\"),m=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},v=new RegExp(\"^(\".concat(d.a.join(\"|\"),\")(-inverse)?$\")),y=new RegExp(\"^(\".concat(d.b.join(\"|\"),\")$\")),O=function(e,t){var r,s=e.prefixCls,f=e.className,h=e.style,d=e.children,O=e.icon,g=e.color,j=e.onClose,P=e.closeIcon,w=e.closable,k=void 0!==w&&w,N=m(e,[\"prefixCls\",\"className\",\"style\",\"children\",\"icon\",\"color\",\"onClose\",\"closeIcon\",\"closable\"]),E=c.useContext(p.b),x=E.getPrefixCls,C=E.direction,M=c.useState(!0),_=Object(o.a)(M,2),S=_[0],R=_[1];c.useEffect((function(){\"visible\"in N&&R(N.visible)}),[N.visible]);var D=function(){return!!g&&(v.test(g)||y.test(g))},I=Object(a.a)({backgroundColor:g&&!D()?g:void 0},h),q=D(),J=x(\"tag\",s),T=i()(J,(r={},Object(n.a)(r,\"\".concat(J,\"-\").concat(g),q),Object(n.a)(r,\"\".concat(J,\"-has-color\"),g&&!q),Object(n.a)(r,\"\".concat(J,\"-hidden\"),!S),Object(n.a)(r,\"\".concat(J,\"-rtl\"),\"rtl\"===C),r),f),Y=function(e){e.stopPropagation(),null===j||void 0===j||j(e),e.defaultPrevented||\"visible\"in N||R(!1)},V=\"onClick\"in N||d&&\"a\"===d.type,B=Object(l.a)(N,[\"visible\"]),F=O||null,A=F?c.createElement(c.Fragment,null,F,c.createElement(\"span\",null,d)):d,L=c.createElement(\"span\",Object(a.a)({},B,{ref:t,className:T,style:I}),A,k?P?c.createElement(\"span\",{className:\"\".concat(J,\"-close-icon\"),onClick:Y},P):c.createElement(u.a,{className:\"\".concat(J,\"-close-icon\"),onClick:Y}):null);return V?c.createElement(b.a,null,L):L},g=c.forwardRef(O);g.displayName=\"Tag\",g.CheckableTag=h;t.a=g}},[[\"0JOW\",0,1,4,5,3,2,6,7,8,10,11,12,13,14,15,17,19,23,35,36,44,9]]]);","extractedComments":[]}