{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[61],{\"2qu3\":function(e,t,r){\"use strict\";var n=r(\"oI91\"),a=r(\"/GRZ\"),o=r(\"i2R6\");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){var r;if(\"undefined\"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if(\"string\"===typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&\"number\"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,i=!0,u=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){u=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}t.__esModule=!0,t.default=void 0;var l,f=(l=r(\"q1tI\"))&&l.__esModule?l:{default:l},d=r(\"8L3h\"),p=r(\"jwwS\");var v=[],b=[],h=!1;function m(e){var t=e(),r={loading:!0,loaded:null,error:null};return r.promise=t.then((function(e){return r.loading=!1,r.loaded=e,e})).catch((function(e){throw r.loading=!1,r.error=e,e})),r}function y(e){var t={loading:!1,loaded:{},error:null},r=[];try{Object.keys(e).forEach((function(n){var a=m(e[n]);a.loading?t.loading=!0:(t.loaded[n]=a.loaded,t.error=a.error),r.push(a.promise),a.promise.then((function(e){t.loaded[n]=e})).catch((function(e){t.error=e}))}))}catch(n){t.error=n}return t.promise=Promise.all(r).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function O(e,t){return f.default.createElement(function(e){return e&&e.__esModule?e.default:e}(e),t)}function g(e,t){var r=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:O,webpack:null,modules:null},t),n=null;function a(){if(!n){var t=new j(e,r);n={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return n.promise()}if(!h&&\"function\"===typeof r.webpack){var o=r.webpack();b.push((function(e){var t,r=c(o);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(-1!==e.indexOf(n))return a()}}catch(i){r.e(i)}finally{r.f()}}))}var i=function(e,t){a();var o=f.default.useContext(p.LoadableContext),i=(0,d.useSubscription)(n);return f.default.useImperativeHandle(t,(function(){return{retry:n.retry}}),[]),o&&Array.isArray(r.modules)&&r.modules.forEach((function(e){o(e)})),f.default.useMemo((function(){return i.loading||i.error?f.default.createElement(r.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:n.retry}):i.loaded?r.render(i.loaded,e):null}),[e,i])};return i.preload=function(){return a()},i.displayName=\"LoadableComponent\",f.default.forwardRef(i)}var j=function(){function e(t,r){a(this,e),this._loadFn=t,this._opts=r,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return o(e,[{key:\"promise\",value:function(){return this._res.promise}},{key:\"retry\",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,r=this._opts;t.loading&&(\"number\"===typeof r.delay&&(0===r.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),r.delay)),\"number\"===typeof r.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),r.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(t){e._update({}),e._clearTimeouts()})),this._update({})}},{key:\"_update\",value:function(e){this._state=u(u({},this._state),{},{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:\"_clearTimeouts\",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:\"getCurrentValue\",value:function(){return this._state}},{key:\"subscribe\",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}]),e}();function k(e){return g(m,e)}function w(e,t){for(var r=[];e.length;){var n=e.pop();r.push(n(t))}return Promise.all(r).then((function(){if(e.length)return w(e,t)}))}k.Map=function(e){if(\"function\"!==typeof e.render)throw new Error(\"LoadableMap requires a `render(loaded, props)` function\");return g(y,e)},k.preloadAll=function(){return new Promise((function(e,t){w(v).then(e,t)}))},k.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var r=function(){return h=!0,t()};w(b,e).then(r,r)}))},window.__NEXT_PRELOADREADY=k.preloadReady;var x=k;t.default=x},\"9ONQ\":function(e,t,r){\"use strict\";r.r(t);var n=r(\"uJQa\");function a(e,t){void 0===t&&(t={});var r=function(e){if(e&&\"j\"===e[0]&&\":\"===e[1])return e.substr(2);return e}(e);if(function(e,t){return\"undefined\"===typeof t&&(t=!e||\"{\"!==e[0]&&\"[\"!==e[0]&&'\"'!==e[0]),!t}(r,t.doNotParse))try{return JSON.parse(r)}catch(n){}return e}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(){function e(e,t){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return\"string\"===typeof e?n.parse(e,t):\"object\"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){r.HAS_DOCUMENT_COOKIE=\"object\"===typeof document&&\"string\"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=n.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,r){return void 0===t&&(t={}),this._updateBrowserValues(r),a(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var r={};for(var n in this.cookies)r[n]=a(this.cookies[n],e);return r},e.prototype.set=function(e,t,r){var a;\"object\"===typeof t&&(t=JSON.stringify(t)),this.cookies=o(o({},this.cookies),((a={})[e]=t,a)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,t,r)),this._emitChange({name:e,value:t,options:r})},e.prototype.remove=function(e,t){var r=t=o(o({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=o({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,\"\",r)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();t.default=i},\"9yH6\":function(e,t,r){\"use strict\";var n=r(\"rePB\"),a=r(\"wx14\"),o=r(\"q1tI\"),i=r(\"x1Ya\"),u=r(\"TSYQ\"),c=r.n(u),s=r(\"c+Xe\"),l=r(\"H84U\"),f=o.createContext(null),d=f.Provider,p=f,v=r(\"uaoM\"),b=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},h=function(e,t){var r,u=o.useContext(p),f=o.useContext(l.b),d=f.getPrefixCls,h=f.direction,m=o.useRef(),y=Object(s.a)(t,m);o.useEffect((function(){Object(v.a)(!(\"optionType\"in e),\"Radio\",\"`optionType` is only support in Radio.Group.\")}),[]);var O=e.prefixCls,g=e.className,j=e.children,k=e.style,w=b(e,[\"prefixCls\",\"className\",\"children\",\"style\"]),x=d(\"radio\",O),C=Object(a.a)({},w);u&&(C.name=u.name,C.onChange=function(t){var r,n;null===(r=e.onChange)||void 0===r||r.call(e,t),null===(n=null===u||void 0===u?void 0:u.onChange)||void 0===n||n.call(u,t)},C.checked=e.value===u.value,C.disabled=e.disabled||u.disabled);var P=c()(\"\".concat(x,\"-wrapper\"),(r={},Object(n.a)(r,\"\".concat(x,\"-wrapper-checked\"),C.checked),Object(n.a)(r,\"\".concat(x,\"-wrapper-disabled\"),C.disabled),Object(n.a)(r,\"\".concat(x,\"-wrapper-rtl\"),\"rtl\"===h),r),g);return o.createElement(\"label\",{className:P,style:k,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.createElement(i.a,Object(a.a)({},C,{prefixCls:x,ref:y})),void 0!==j?o.createElement(\"span\",null,j):null)},m=o.forwardRef(h);m.displayName=\"Radio\",m.defaultProps={type:\"radio\"};var y=m,O=r(\"ODXe\"),g=r(\"6cGi\"),j=r(\"3Nzz\"),k=o.forwardRef((function(e,t){var r=o.useContext(l.b),a=r.getPrefixCls,i=r.direction,u=o.useContext(j.b),s=Object(g.a)(e.defaultValue,{value:e.value}),f=Object(O.a)(s,2),p=f[0],v=f[1];return o.createElement(d,{value:{onChange:function(t){var r=p,n=t.target.value;\"value\"in e||v(n);var a=e.onChange;a&&n!==r&&a(t)},value:p,disabled:e.disabled,name:e.name}},function(){var r,s=e.prefixCls,l=e.className,f=void 0===l?\"\":l,d=e.options,v=e.optionType,b=e.buttonStyle,h=void 0===b?\"outline\":b,m=e.disabled,O=e.children,g=e.size,j=e.style,k=e.id,w=e.onMouseEnter,x=e.onMouseLeave,C=a(\"radio\",s),P=\"\".concat(C,\"-group\"),_=O;if(d&&d.length>0){var E=\"button\"===v?\"\".concat(C,\"-button\"):C;_=d.map((function(e){return\"string\"===typeof e?o.createElement(y,{key:e,prefixCls:E,disabled:m,value:e,checked:p===e},e):o.createElement(y,{key:\"radio-group-value-options-\".concat(e.value),prefixCls:E,disabled:e.disabled||m,value:e.value,checked:p===e.value,style:e.style},e.label)}))}var S=g||u,N=c()(P,\"\".concat(P,\"-\").concat(h),(r={},Object(n.a)(r,\"\".concat(P,\"-\").concat(S),S),Object(n.a)(r,\"\".concat(P,\"-rtl\"),\"rtl\"===i),r),f);return o.createElement(\"div\",{className:N,style:j,onMouseEnter:w,onMouseLeave:x,id:k,ref:t},_)}())})),w=o.memo(k),x=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},C=function(e,t){var r=o.useContext(p),n=o.useContext(l.b).getPrefixCls,i=e.prefixCls,u=x(e,[\"prefixCls\"]),c=n(\"radio-button\",i);return r&&(u.checked=e.value===r.value,u.disabled=e.disabled||r.disabled),o.createElement(y,Object(a.a)({prefixCls:c},u,{type:\"radio\",ref:t}))},P=o.forwardRef(C),_=y;_.Button=P,_.Group=w;t.a=_},BMrR:function(e,t,r){\"use strict\";var n=r(\"qrJ5\");t.a=n.a},CZXo:function(e,t,r){\"use strict\";var n=r(\"wx14\"),a=r(\"o0o1\"),o=r.n(a),i=r(\"rePB\"),u=r(\"HaE+\"),c=r(\"KQm4\"),s=r(\"ODXe\"),l=r(\"q1tI\"),f=r.n(l),d=r(\"Vl3Y\"),p=r(\"5rEg\"),v=r(\"kaz8\"),b=r(\"2fM7\"),h=r(\"PArb\"),m=r(\"zeV3\"),y=r(\"2/Rp\"),O=r(\"9yH6\"),g=r(\"tsqr\"),j=r(\"BMrR\"),k=r(\"kPKH\"),w=r(\"8z0m\"),x=r(\"xvlK\"),C=r(\"nOHt\"),P=r.n(C),_=r(\"psLn\"),E=r(\"dNzx\"),S=r(\"CLrh\"),N=(r(\"V/Nr\"),r(\"TXU+\")),I=f.a.createElement;function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){Object(i.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var M={description:\"\",isSale:!1,status:\"draft\"},q=[{key:\"draft\",name:\"Draft\"},{key:\"active\",name:\"Active\"},{key:\"inactive\",name:\"Inactive\"}],R=function(e){var t,r=e.onFinish,a=e.loading,i=e.gallery,l=e.performer,C=d.a.useForm(),D=Object(s.a)(C,1)[0],R=f.a.useState(!1),L=Object(s.a)(R,2),A=L[0],K=L[1],U=f.a.useState([]),F=Object(s.a)(U,2),V=F[0],B=F[1];null!==i&&void 0!==i&&i.token&&!_.o.find((function(e){return e.value===i.token}))&&(_.o.push({value:i.token,text:I(N.a,{value:i.token,suffix:\" tokens\"})}),_.o.sort((function(e,t){return e.value-t.value})));var H=f.a.useState(_.o),G=Object(s.a)(H,2),z=G[0],J=G[1],X=(z||[]).map((function(e){return{label:e.text,value:e.value}})),Y=[\"isSale\",\"token\"],Q=[{name:\"name\",label:\"Name\",rules:[{required:!0,message:\"Please input gallery name!\"}],children:I(p.a,{placeholder:\"Title Gallery\"})},{name:\"description\",label:\"Description\",children:I(p.a.TextArea,{placeholder:\"Title Description\"})},{name:\"isSale\",valuePropName:\"checked\",children:I(v.a,null,\"Is sale Gallery?\")},{fieldKey:\"tokenPrice\",label:\"Token\",dependencies:Y,children:function(){return I(d.a.Item,{name:\"token\",dependencies:Y,rules:[function(e){var t=e.getFieldValue;return{validator:function(e,r){return new Promise((function(e,n){var a=t(\"isSale\");return!a||a&&parseInt(r,10)>0?e(null):n(new Error(\"Price must be positive integer number!\"))}))}}}]},I(b.a,{disabled:!D.getFieldValue(\"isSale\"),placeholder:\"Please Select Number of Token\",onKeyDown:function(e){return 13===e.keyCode?e.preventDefault():{}},options:X,dropdownRender:function(e){return I(\"div\",null,e,I(h.a,{dashed:!0}),I(m.b,null,I(p.a,{placeholder:\"Input number of token\",type:\"number\",min:1,ref:function(e){return t=e}}),I(y.a,{onClick:function(){var e=parseInt(t.state.value,10);e<1&&(e=1),z.find((function(t){return t.value===e}))||J([].concat(Object(c.a)(z),[{text:I(N.a,{value:e,suffix:\" tokens\"}),value:e}]).sort((function(e,t){return e.value-t.value})))}},\"Add\")))}}))}},{name:\"status\",label:\"Status\",children:I(O.a.Group,null,q.map((function(e){return I(O.a,{value:e.key,key:e.key},e.name)})))}],Z=function(){var e=Object(u.a)(o.a.mark((function e(){var t,r,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!i._id){e.next=6;break}return e.next=4,S.k.search({galleryId:i._id,performerId:l._id});case 4:(t=e.sent).data.total>0&&B(null===(r=t.data)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.map((function(e){return T(T({},e),{},{uid:e._id,name:e.title,status:\"done\",uploadStatus:e.status,url:e.photo.url})})));case 6:e.next=14;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Promise.resolve(e.t0);case 12:a=e.sent,g.b.error(Object(_.k)(a));case 14:case\"end\":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),$=function(e){},W=function(){var e=Object(u.a)(o.a.mark((function e(){var t,r,n,a,u,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i||i._id){e.next=2;break}return e.abrupt(\"return\");case 2:if(V&&V.length){e.next=5;break}return g.b.error(\"Please select photo!\"),e.abrupt(\"return\");case 5:if(t={galleryId:i._id,isSalePhoto:!1,token:0,performerId:l._id,status:\"active\"},(r=Object(c.a)(V).filter((function(e){return\"uploading\"===e.status&&e.originFileObj}))).length){e.next=10;break}return g.b.error(\"Please select new file!\"),e.abrupt(\"return\");case 10:return K(!0),e.prev=11,e.next=14,Promise.all(r.map((function(e){return S.k.uploadImages(e.originFileObj,t,$)})));case 14:n=e.sent,a=V.filter((function(e){return\"done\"===e.status})),u=V.filter((function(e){return\"uploading\"===e.status})),B([].concat(Object(c.a)(a),Object(c.a)(n.map((function(e,t){var r=e.data;return r._id&&T(T(T({},u[t]),r),{},{uid:r._id,status:\"done\",uploadStatus:r.status,name:r.title})}))))),e.next=26;break;case 20:return e.prev=20,e.t0=e.catch(11),e.next=24,Promise.resolve(e.t0);case 24:s=e.sent,g.b.error(Object(_.k)(s));case 26:K(!1);case 27:case\"end\":return e.stop()}}),e,null,[[11,20]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(u.a)(o.a.mark((function e(t){var r,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.fileList,e.next=3,Promise.all(r.filter((function(e){return\"done\"!==e.status})).map((function(e){return Object(_.j)(e.originFileObj,\"uploading\",e)})));case 3:n=e.sent,a=r.filter((function(e){return\"done\"===e.status})),B([].concat(Object(c.a)(a),Object(c.a)(n.map((function(e){return T({},e)})))));case 6:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(u.a)(o.a.mark((function e(t){var r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,K(!0),e.next=4,S.k.remove(t.uid);case 4:g.b.success(\"Removed!\"),e.next=14;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Promise.resolve(e.t0);case 11:r=e.sent,g.b.error(Object(_.k)(r)),setTimeout((function(){return B(V)}),1e3);case 14:return e.prev=14,K(!1),e.finish(14);case 17:case\"end\":return e.stop()}}),e,null,[[0,7,14,17]])})));return function(t){return e.apply(this,arguments)}}();return f.a.useEffect((function(){!A&&null!==V&&void 0!==V&&V.length&&(V.filter((function(e){return\"uploading\"===e.status})).length>0&&W())}),[V,A]),f.a.useEffect((function(){Z()}),[]),I(d.a,Object(n.a)({},_.e,{form:D,onFinish:r,name:\"galleryCreatingForm\",initialValues:T(T({},M),i),layout:\"vertical\"}),I(j.a,null,I(k.a,{sm:24,xs:24},I(E.a,{fields:Q}),i._id&&I(w.a,{accept:\"image/*\",multiple:!0,showUploadList:!0,onPreview:function(e){var t=e;t.status=t.uploadStatus,P.a.push({pathname:\"/account/performer/photos/update\",query:{data:JSON.stringify(t)}},\"/account/performer/photos/\".concat(t.uid,\"/update\"))},onRemove:te,listType:\"picture-card\",disabled:A,fileList:V,onChange:ee,beforeUpload:function(){return!1}},I(x.a,null),I(\"div\",{className:\"ant-upload-text\"},\"Upload\")))),I(d.a.Item,_.n,I(m.b,null,I(y.a,{type:\"primary\",htmlType:\"submit\",disabled:a,loading:a},\"Save Changes\"),I(y.a,{type:\"primary\",onClick:function(){return P.a.back()}},\"Back\"))))};R.defaultProps={gallery:null,performer:null,remove:null},t.a=R},\"D4/9\":function(e,t,r){\"use strict\";r.r(t);var n=r(\"q1tI\"),a=r.n(n).a.createElement;function o(e){var t=e.statusCode,r=e.message,n=void 0===r?\"\":r;return a(\"p\",{style:{textAlign:\"center\"}},n?\"\".concat(t,\" - \").concat(n):t?\"\".concat(t,\" - An error \").concat(t,\" occurred on server\"):\"An error occurred on client\")}o.getInitialProps=function(e){var t=e.res,r=e.err;return{statusCode:t?t.statusCode:r?r.statusCode:404}},t.default=o},Ma5Y:function(e,t,r){var n=r(\"9ONQ\");n=n.default||n,e.exports=function(e,t){var r=e.req&&e.req.headers&&e.req.headers.cookie;return new n(r).getAll(t)}},\"TXU+\":function(e,t,r){\"use strict\";var n=r(\"wx14\"),a=r(\"Ff2n\"),o=r(\"q1tI\"),i=r.n(o),u=r(\"a6RD\"),c=r.n(u),s=i.a.createElement,l=c()((function(){return r.e(136).then(r.bind(null,\"aZ9c\"))}),{ssr:!1,loadableGenerated:{webpack:function(){return[\"aZ9c\"]},modules:[\"react-number-format\"]}});t.a=function(e){var t=e.decimalScale,r=Object(a.a)(e,[\"decimalScale\"]);return s(l,Object(n.a)({},r,{displayType:\"text\",decimalScale:t||2,decimalSeparator:\",\",thousandSeparator:\".\"}))}},a6RD:function(e,t,r){\"use strict\";var n=r(\"oI91\");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.__esModule=!0,t.noSSR=c,t.default=function(e,t){var r=i.default,n={loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};e instanceof Promise?n.loader=function(){return e}:\"function\"===typeof e?n.loader=e:\"object\"===typeof e&&(n=o(o({},n),e));if(n=o(o({},n),t),\"object\"===typeof e&&!(e instanceof Promise)&&(e.render&&(n.render=function(t,r){return e.render(r,t)}),e.modules)){r=i.default.Map;var a={},u=e.modules();Object.keys(u).forEach((function(e){var t=u[e];\"function\"!==typeof t.then?a[e]=t:a[e]=function(){return t.then((function(e){return e.default||e}))}})),n.loader=a}n.loadableGenerated&&delete(n=o(o({},n),n.loadableGenerated)).loadableGenerated;if(\"boolean\"===typeof n.ssr){if(!n.ssr)return delete n.ssr,c(r,n);delete n.ssr}return r(n)};u(r(\"q1tI\"));var i=u(r(\"2qu3\"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return delete t.webpack,delete t.modules,e(t)}},dNzx:function(e,t,r){\"use strict\";var n=r(\"wx14\"),a=r(\"Vl3Y\"),o=r(\"q1tI\"),i=r.n(o),u=i.a.createElement;t.a=function(e){var t=e.fields;return u(i.a.Fragment,null,t.map((function(e){return u(a.a.Item,Object(n.a)({},e,{key:e.id||(e.name||e.fieldKey).toString()}),e.children)})))}},eh5M:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/account/performer/galleries/update\",function(){return r(\"k1O3\")}])},jwwS:function(e,t,r){\"use strict\";var n;t.__esModule=!0,t.LoadableContext=void 0;var a=((n=r(\"q1tI\"))&&n.__esModule?n:{default:n}).default.createContext(null);t.LoadableContext=a},k1O3:function(e,t,r){\"use strict\";r.r(t);var n=r(\"o0o1\"),a=r.n(n),o=r(\"HaE+\"),i=r(\"1OyB\"),u=r(\"vuIU\"),c=r(\"Ji7U\"),s=r(\"md7G\"),l=r(\"foSv\"),f=r(\"rePB\"),d=r(\"q1tI\"),p=r.n(d),v=r(\"tsqr\"),b=r(\"Y1dN\"),h=r(\"8Kt/\"),m=r.n(h),y=r(\"/MKj\"),O=r(\"CZXo\"),g=r(\"CLrh\"),j=r(\"NsEo\"),k=r(\"Ma5Y\"),w=r.n(k),x=r(\"D4/9\"),C=(r(\"3xR3\"),p.a.createElement);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){Object(f.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Object(l.a)(e);if(t){var a=Object(l.a)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Object(s.a)(this,r)}}var S=function(e){Object(c.a)(r,e);var t=E(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).state={onSubmit:!1},n}return Object(u.a)(r,[{key:\"onFinish\",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var r,n,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,n=r.performer,o=r.gallery,e.prev=1,this.setState({onSubmit:!0}),e.next=5,g.e.update(o._id,_(_({},t),{},{performerId:n._id}));case 5:v.b.success(\"Update gallery success.\"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.showError(e.t0);case 11:return e.prev=11,this.setState({onSubmit:!1}),e.finish(11);case 14:case\"end\":return e.stop()}}),e,this,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"remove\",value:function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.k.remove(t);case 3:v.b.success(\"Removed!\"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.showError(e.t0);case 9:case\"end\":return e.stop()}}),e,this,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:\"showError\",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(t);case 2:r=e.sent,v.b.error(Object(j.g)(r));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e=this.props,t=e.gallery,r=e.performer;if(!t)return C(x.default,{statusCode:404});var n=this.state.onSubmit;return C(p.a.Fragment,null,C(m.a,null,C(\"title\",null,\"Update Gallery\",\" \",t&&t.name)),C(\"div\",{className:\"performer-gallries-page\"},C(b.a,{title:\"Update a Gallery\"}),C(O.a,{loading:n,performer:r,onFinish:this.onFinish.bind(this),gallery:t,remove:this.remove.bind(this)})))}}],[{key:\"getInitialProps\",value:function(){var e=Object(o.a)(a.a.mark((function e(t){var r,n,o,i,u,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.ctx,e.prev=1,n=r.query,o=n.data,i=n.id,!o){e.next=5;break}return e.abrupt(\"return\",{gallery:JSON.parse(o)});case 5:return u=w()(r),c=u.token,e.next=8,g.e.details(i,{Authorization:c});case 8:return s=e.sent,e.abrupt(\"return\",{gallery:s.data});case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt(\"return\",{});case 15:case\"end\":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(d.PureComponent);Object(f.a)(S,\"authenticate\",!0),Object(f.a)(S,\"layout\",\"primary\");t.default=Object(y.b)((function(e){return{performer:e.performer.current}}))(S)},kPKH:function(e,t,r){\"use strict\";var n=r(\"/kpp\");t.a=n.a},kaz8:function(e,t,r){\"use strict\";var n=r(\"rePB\"),a=r(\"wx14\"),o=r(\"q1tI\"),i=r(\"TSYQ\"),u=r.n(i),c=r(\"x1Ya\"),s=r(\"KQm4\"),l=r(\"ODXe\"),f=r(\"bT9E\"),d=r(\"H84U\"),p=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},v=o.createContext(null),b=function(e){var t=e.defaultValue,r=e.children,i=e.options,c=void 0===i?[]:i,b=e.prefixCls,h=e.className,m=e.style,y=e.onChange,O=p(e,[\"defaultValue\",\"children\",\"options\",\"prefixCls\",\"className\",\"style\",\"onChange\"]),g=o.useContext(d.b),k=g.getPrefixCls,w=g.direction,x=o.useState(O.value||t||[]),C=Object(l.a)(x,2),P=C[0],_=C[1],E=o.useState([]),S=Object(l.a)(E,2),N=S[0],I=S[1];o.useEffect((function(){\"value\"in O&&_(O.value||[])}),[O.value]);var D=function(){return c.map((function(e){return\"string\"===typeof e?{label:e,value:e}:e}))},T=k(\"checkbox\",b),M=\"\".concat(T,\"-group\"),q=Object(f.a)(O,[\"value\",\"disabled\"]);c&&c.length>0&&(r=D().map((function(e){return o.createElement(j,{prefixCls:T,key:e.value.toString(),disabled:\"disabled\"in e?e.disabled:O.disabled,value:e.value,checked:-1!==P.indexOf(e.value),onChange:e.onChange,className:\"\".concat(M,\"-item\"),style:e.style},e.label)})));var R={toggleOption:function(e){var t=P.indexOf(e.value),r=Object(s.a)(P);-1===t?r.push(e.value):r.splice(t,1),\"value\"in O||_(r);var n=D();null===y||void 0===y||y(r.filter((function(e){return-1!==N.indexOf(e)})).sort((function(e,t){return n.findIndex((function(t){return t.value===e}))-n.findIndex((function(e){return e.value===t}))})))},value:P,disabled:O.disabled,name:O.name,registerValue:function(e){I((function(t){return[].concat(Object(s.a)(t),[e])}))},cancelValue:function(e){I((function(t){return t.filter((function(t){return t!==e}))}))}},L=u()(M,Object(n.a)({},\"\".concat(M,\"-rtl\"),\"rtl\"===w),h);return o.createElement(\"div\",Object(a.a)({className:L,style:m},q),o.createElement(v.Provider,{value:R},r))},h=o.memo(b),m=r(\"uaoM\"),y=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},O=function(e,t){var r,i=e.prefixCls,s=e.className,l=e.children,f=e.indeterminate,p=void 0!==f&&f,b=e.style,h=e.onMouseEnter,O=e.onMouseLeave,g=e.skipGroup,j=void 0!==g&&g,k=y(e,[\"prefixCls\",\"className\",\"children\",\"indeterminate\",\"style\",\"onMouseEnter\",\"onMouseLeave\",\"skipGroup\"]),w=o.useContext(d.b),x=w.getPrefixCls,C=w.direction,P=o.useContext(v),_=o.useRef(k.value);o.useEffect((function(){null===P||void 0===P||P.registerValue(k.value),Object(m.a)(\"checked\"in k||!!P||!(\"value\"in k),\"Checkbox\",\"`value` is not a valid prop, do you mean `checked`?\")}),[]),o.useEffect((function(){if(!j)return k.value!==_.current&&(null===P||void 0===P||P.cancelValue(_.current),null===P||void 0===P||P.registerValue(k.value)),function(){return null===P||void 0===P?void 0:P.cancelValue(k.value)}}),[k.value]);var E=x(\"checkbox\",i),S=Object(a.a)({},k);P&&!j&&(S.onChange=function(){k.onChange&&k.onChange.apply(k,arguments),P.toggleOption&&P.toggleOption({label:l,value:k.value})},S.name=P.name,S.checked=-1!==P.value.indexOf(k.value),S.disabled=k.disabled||P.disabled);var N=u()((r={},Object(n.a)(r,\"\".concat(E,\"-wrapper\"),!0),Object(n.a)(r,\"\".concat(E,\"-rtl\"),\"rtl\"===C),Object(n.a)(r,\"\".concat(E,\"-wrapper-checked\"),S.checked),Object(n.a)(r,\"\".concat(E,\"-wrapper-disabled\"),S.disabled),r),s),I=u()(Object(n.a)({},\"\".concat(E,\"-indeterminate\"),p));return o.createElement(\"label\",{className:N,style:b,onMouseEnter:h,onMouseLeave:O},o.createElement(c.a,Object(a.a)({},S,{prefixCls:E,className:I,ref:t})),void 0!==l&&o.createElement(\"span\",null,l))},g=o.forwardRef(O);g.displayName=\"Checkbox\";var j=g,k=j;k.Group=h,k.__ANT_CHECKBOX=!0;t.a=k},uJQa:function(e,t,r){\"use strict\";t.parse=function(e,t){if(\"string\"!==typeof e)throw new TypeError(\"argument str must be a string\");for(var r={},a=t||{},i=e.split(o),c=a.decode||n,s=0;s<i.length;s++){var l=i[s],f=l.indexOf(\"=\");if(!(f<0)){var d=l.substr(0,f).trim(),p=l.substr(++f,l.length).trim();'\"'==p[0]&&(p=p.slice(1,-1)),void 0==r[d]&&(r[d]=u(p,c))}}return r},t.serialize=function(e,t,r){var n=r||{},o=n.encode||a;if(\"function\"!==typeof o)throw new TypeError(\"option encode is invalid\");if(!i.test(e))throw new TypeError(\"argument name is invalid\");var u=o(t);if(u&&!i.test(u))throw new TypeError(\"argument val is invalid\");var c=e+\"=\"+u;if(null!=n.maxAge){var s=n.maxAge-0;if(isNaN(s)||!isFinite(s))throw new TypeError(\"option maxAge is invalid\");c+=\"; Max-Age=\"+Math.floor(s)}if(n.domain){if(!i.test(n.domain))throw new TypeError(\"option domain is invalid\");c+=\"; Domain=\"+n.domain}if(n.path){if(!i.test(n.path))throw new TypeError(\"option path is invalid\");c+=\"; Path=\"+n.path}if(n.expires){if(\"function\"!==typeof n.expires.toUTCString)throw new TypeError(\"option expires is invalid\");c+=\"; Expires=\"+n.expires.toUTCString()}n.httpOnly&&(c+=\"; HttpOnly\");n.secure&&(c+=\"; Secure\");if(n.sameSite){switch(\"string\"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:c+=\"; SameSite=Strict\";break;case\"lax\":c+=\"; SameSite=Lax\";break;case\"strict\":c+=\"; SameSite=Strict\";break;case\"none\":c+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return c};var n=decodeURIComponent,a=encodeURIComponent,o=/; */,i=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function u(e,t){try{return t(e)}catch(r){return e}}},x1Ya:function(e,t,r){\"use strict\";var n=r(\"wx14\"),a=r(\"rePB\"),o=r(\"Ff2n\"),i=r(\"VTBJ\"),u=r(\"1OyB\"),c=r(\"vuIU\"),s=r(\"Ji7U\"),l=r(\"LK+K\"),f=r(\"q1tI\"),d=r.n(f),p=r(\"TSYQ\"),v=r.n(p),b=function(e){Object(s.a)(r,e);var t=Object(l.a)(r);function r(e){var n;Object(u.a)(this,r),(n=t.call(this,e)).handleChange=function(e){var t=n.props,r=t.disabled,a=t.onChange;r||(\"checked\"in n.props||n.setState({checked:e.target.checked}),a&&a({target:Object(i.a)(Object(i.a)({},n.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},n.saveInput=function(e){n.input=e};var a=\"checked\"in e?e.checked:e.defaultChecked;return n.state={checked:a},n}return Object(c.a)(r,[{key:\"focus\",value:function(){this.input.focus()}},{key:\"blur\",value:function(){this.input.blur()}},{key:\"render\",value:function(){var e,t=this.props,r=t.prefixCls,i=t.className,u=t.style,c=t.name,s=t.id,l=t.type,f=t.disabled,p=t.readOnly,b=t.tabIndex,h=t.onClick,m=t.onFocus,y=t.onBlur,O=t.onKeyDown,g=t.onKeyPress,j=t.onKeyUp,k=t.autoFocus,w=t.value,x=t.required,C=Object(o.a)(t,[\"prefixCls\",\"className\",\"style\",\"name\",\"id\",\"type\",\"disabled\",\"readOnly\",\"tabIndex\",\"onClick\",\"onFocus\",\"onBlur\",\"onKeyDown\",\"onKeyPress\",\"onKeyUp\",\"autoFocus\",\"value\",\"required\"]),P=Object.keys(C).reduce((function(e,t){return\"aria-\"!==t.substr(0,5)&&\"data-\"!==t.substr(0,5)&&\"role\"!==t||(e[t]=C[t]),e}),{}),_=this.state.checked,E=v()(r,i,(e={},Object(a.a)(e,\"\".concat(r,\"-checked\"),_),Object(a.a)(e,\"\".concat(r,\"-disabled\"),f),e));return d.a.createElement(\"span\",{className:E,style:u},d.a.createElement(\"input\",Object(n.a)({name:c,id:s,type:l,required:x,readOnly:p,disabled:f,tabIndex:b,className:\"\".concat(r,\"-input\"),checked:!!_,onClick:h,onFocus:m,onBlur:y,onKeyUp:j,onKeyDown:O,onKeyPress:g,onChange:this.handleChange,autoFocus:k,ref:this.saveInput,value:w},P)),d.a.createElement(\"span\",{className:\"\".concat(r,\"-inner\")}))}}],[{key:\"getDerivedStateFromProps\",value:function(e,t){return\"checked\"in e?Object(i.a)(Object(i.a)({},t),{},{checked:e.checked}):null}}]),r}(f.Component);b.defaultProps={prefixCls:\"rc-checkbox\",className:\"\",style:{},type:\"checkbox\",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},t.a=b},xvlK:function(e,t,r){\"use strict\";var n=r(\"q1tI\"),a={icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"defs\",attrs:{},children:[{tag:\"style\",attrs:{}}]},{tag:\"path\",attrs:{d:\"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z\"}},{tag:\"path\",attrs:{d:\"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z\"}}]},name:\"plus\",theme:\"outlined\"},o=r(\"6VBw\"),i=function(e,t){return n.createElement(o.a,Object.assign({},e,{ref:t,icon:a}))};i.displayName=\"PlusOutlined\";t.a=n.forwardRef(i)}},[[\"eh5M\",0,1,4,5,3,2,6,7,10,9,11,12,13,14,15,16,17,18,19,20,21,22,23,30,36,8]]]);","extractedComments":[]}