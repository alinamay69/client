{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[135],{\"/ezw\":function(e,t,a){\"use strict\";var n=a(\"rePB\"),r=a(\"wx14\"),i=a(\"U8pU\"),c=a(\"q1tI\"),o=a(\"TSYQ\"),s=a.n(o),l=function(e){var t=e.prefixCls,a=e.className,n=e.width,i=e.style;return c.createElement(\"h3\",{className:s()(t,a),style:Object(r.a)({width:n},i)})},u=a(\"KQm4\"),d=function(e){var t=function(t){var a=e.width,n=e.rows,r=void 0===n?2:n;return Array.isArray(a)?a[t]:r-1===t?a:void 0},a=e.prefixCls,n=e.className,r=e.style,i=e.rows,o=Object(u.a)(Array(i)).map((function(e,a){return c.createElement(\"li\",{key:a,style:{width:t(a)}})}));return c.createElement(\"ul\",{className:s()(a,n),style:r},o)},p=a(\"H84U\"),f=function(e){var t,a,i=e.prefixCls,o=e.className,l=e.style,u=e.size,d=e.shape,p=s()((t={},Object(n.a)(t,\"\".concat(i,\"-lg\"),\"large\"===u),Object(n.a)(t,\"\".concat(i,\"-sm\"),\"small\"===u),t)),f=s()((a={},Object(n.a)(a,\"\".concat(i,\"-circle\"),\"circle\"===d),Object(n.a)(a,\"\".concat(i,\"-square\"),\"square\"===d),Object(n.a)(a,\"\".concat(i,\"-round\"),\"round\"===d),a)),v=\"number\"===typeof u?{width:u,height:u,lineHeight:\"\".concat(u,\"px\")}:{};return c.createElement(\"span\",{className:s()(i,p,f,o),style:Object(r.a)(Object(r.a)({},v),l)})},v=a(\"bT9E\"),m=function(e){var t=function(t){var a=t.getPrefixCls,i=e.prefixCls,o=e.className,l=e.active,u=a(\"skeleton\",i),d=Object(v.a)(e,[\"prefixCls\"]),p=s()(u,\"\".concat(u,\"-element\"),Object(n.a)({},\"\".concat(u,\"-active\"),l),o);return c.createElement(\"div\",{className:p},c.createElement(f,Object(r.a)({prefixCls:\"\".concat(u,\"-avatar\")},d)))};return c.createElement(p.a,null,t)};m.defaultProps={size:\"default\",shape:\"circle\"};var h=m,g=function(e){var t=function(t){var a=t.getPrefixCls,i=e.prefixCls,o=e.className,l=e.active,u=a(\"skeleton\",i),d=Object(v.a)(e,[\"prefixCls\"]),p=s()(u,\"\".concat(u,\"-element\"),Object(n.a)({},\"\".concat(u,\"-active\"),l),o);return c.createElement(\"div\",{className:p},c.createElement(f,Object(r.a)({prefixCls:\"\".concat(u,\"-button\")},d)))};return c.createElement(p.a,null,t)};g.defaultProps={size:\"default\"};var b=g,O=function(e){var t=function(t){var a=t.getPrefixCls,i=e.prefixCls,o=e.className,l=e.active,u=a(\"skeleton\",i),d=Object(v.a)(e,[\"prefixCls\"]),p=s()(u,\"\".concat(u,\"-element\"),Object(n.a)({},\"\".concat(u,\"-active\"),l),o);return c.createElement(\"div\",{className:p},c.createElement(f,Object(r.a)({prefixCls:\"\".concat(u,\"-input\")},d)))};return c.createElement(p.a,null,t)};O.defaultProps={size:\"default\"};var E=O,y=function(e){var t=function(t){var a=t.getPrefixCls,n=e.prefixCls,r=e.className,i=e.style,o=a(\"skeleton\",n),l=s()(o,\"\".concat(o,\"-element\"),r);return c.createElement(\"div\",{className:l},c.createElement(\"div\",{className:s()(\"\".concat(o,\"-image\"),r),style:i},c.createElement(\"svg\",{viewBox:\"0 0 1098 1024\",xmlns:\"http://www.w3.org/2000/svg\",className:\"\".concat(o,\"-image-svg\")},c.createElement(\"path\",{d:\"M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z\",className:\"\".concat(o,\"-image-path\")}))))};return c.createElement(p.a,null,t)};function N(e){return e&&\"object\"===Object(i.a)(e)?e:{}}var C=function(e){var t=function(t){var a=t.getPrefixCls,i=t.direction,o=e.prefixCls,u=e.loading,p=e.className,v=e.children,m=e.avatar,h=e.title,g=e.paragraph,b=e.active,O=e.round,E=a(\"skeleton\",o);if(u||!(\"loading\"in e)){var y,C,w,S=!!m,T=!!h,j=!!g;if(S){var x=Object(r.a)(Object(r.a)({prefixCls:\"\".concat(E,\"-avatar\")},function(e,t){return e&&!t?{size:\"large\",shape:\"square\"}:{size:\"large\",shape:\"circle\"}}(T,j)),N(m));C=c.createElement(\"div\",{className:\"\".concat(E,\"-header\")},c.createElement(f,x))}if(T||j){var A,_;if(T){var k=Object(r.a)(Object(r.a)({prefixCls:\"\".concat(E,\"-title\")},function(e,t){return!e&&t?{width:\"38%\"}:e&&t?{width:\"50%\"}:{}}(S,j)),N(h));A=c.createElement(l,k)}if(j){var U=Object(r.a)(Object(r.a)({prefixCls:\"\".concat(E,\"-paragraph\")},function(e,t){var a={};return e&&t||(a.width=\"61%\"),a.rows=!e&&t?3:2,a}(S,T)),N(g));_=c.createElement(d,U)}w=c.createElement(\"div\",{className:\"\".concat(E,\"-content\")},A,_)}var M=s()(E,(y={},Object(n.a)(y,\"\".concat(E,\"-with-avatar\"),S),Object(n.a)(y,\"\".concat(E,\"-active\"),b),Object(n.a)(y,\"\".concat(E,\"-rtl\"),\"rtl\"===i),Object(n.a)(y,\"\".concat(E,\"-round\"),O),y),p);return c.createElement(\"div\",{className:M},C,w)}return v};return c.createElement(p.a,null,t)};C.defaultProps={avatar:!1,title:!0,paragraph:!0},C.Button=b,C.Avatar=h,C.Input=E,C.Image=y;var w=C;t.a=w},\"2/Rp\":function(e,t,a){\"use strict\";var n=a(\"zvFY\");t.a=n.b},\"4IlW\":function(e,t,a){\"use strict\";var n={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=n.F1&&t<=n.F12)return!1;switch(t){case n.ALT:case n.CAPS_LOCK:case n.CONTEXT_MENU:case n.CTRL:case n.DOWN:case n.END:case n.ESC:case n.HOME:case n.INSERT:case n.LEFT:case n.MAC_FF_META:case n.META:case n.NUMLOCK:case n.NUM_CENTER:case n.PAGE_DOWN:case n.PAGE_UP:case n.PAUSE:case n.PRINT_SCREEN:case n.RIGHT:case n.SHIFT:case n.UP:case n.WIN_KEY:case n.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=n.ZERO&&e<=n.NINE)return!0;if(e>=n.NUM_ZERO&&e<=n.NUM_MULTIPLY)return!0;if(e>=n.A&&e<=n.Z)return!0;if(-1!==window.navigator.userAgent.indexOf(\"WebKit\")&&0===e)return!0;switch(e){case n.SPACE:case n.QUESTION_MARK:case n.NUM_PLUS:case n.NUM_MINUS:case n.NUM_PERIOD:case n.NUM_DIVISION:case n.SEMICOLON:case n.DASH:case n.EQUALS:case n.COMMA:case n.PERIOD:case n.SLASH:case n.APOSTROPHE:case n.SINGLE_QUOTE:case n.OPEN_SQUARE_BRACKET:case n.BACKSLASH:case n.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};t.a=n},\"9ONQ\":function(e,t,a){\"use strict\";a.r(t);var n=a(\"iVi/\");function r(e,t){void 0===t&&(t={});var a=function(e){if(e&&\"j\"===e[0]&&\":\"===e[1])return e.substr(2);return e}(e);if(function(e,t){return\"undefined\"===typeof t&&(t=!e||\"{\"!==e[0]&&\"[\"!==e[0]&&'\"'!==e[0]),!t}(a,t.doNotParse))try{return JSON.parse(a)}catch(n){}return e}var i=a(\"Qetd\"),c=function(){function e(e,t){var a=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return\"string\"===typeof e?n.parse(e,t):\"object\"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){a.HAS_DOCUMENT_COOKIE=\"object\"===typeof document&&\"string\"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=n.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,a){return void 0===t&&(t={}),this._updateBrowserValues(a),r(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var a={};for(var n in this.cookies)a[n]=r(this.cookies[n],e);return a},e.prototype.set=function(e,t,a){var r;\"object\"===typeof t&&(t=JSON.stringify(t)),this.cookies=i({},this.cookies,((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,t,a)),this._emitChange({name:e,value:t,options:a})},e.prototype.remove=function(e,t){var a=t=i({},t,{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=i({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=n.serialize(e,\"\",a)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}();t.default=c},\"D4/9\":function(e,t,a){\"use strict\";a.r(t);var n=a(\"q1tI\"),r=a.n(n).a.createElement;function i(e){var t=e.statusCode,a=e.message,n=void 0===a?\"\":a;return r(\"p\",{style:{textAlign:\"center\"}},n?\"\".concat(t,\" - \").concat(n):t?\"\".concat(t,\" - An error \").concat(t,\" occurred on server\"):\"An error occurred on client\")}i.getInitialProps=function(e){var t=e.res,a=e.err;return{statusCode:t?t.statusCode:a?a.statusCode:404}},t.default=i},EXcs:function(e,t,a){\"use strict\";a.d(t,\"b\",(function(){return o}));var n=function(){return{height:0,opacity:0}},r=function(e){return{height:e.scrollHeight,opacity:1}},i=function(e,t){return\"height\"===t.propertyName},c={motionName:\"ant-motion-collapse\",onAppearStart:n,onEnterStart:n,onAppearActive:r,onEnterActive:r,onLeaveStart:function(e){return{height:e.offsetHeight}},onLeaveActive:n,onAppearEnd:i,onEnterEnd:i,onLeaveEnd:i,motionDeadline:500},o=function(e,t,a){return void 0!==a?a:\"\".concat(e,\"-\").concat(t)};t.a=c},Icgb:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),r={name:\"clock-circle\",theme:\"outlined\",icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\"}},{tag:\"path\",attrs:{d:\"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z\"}}]}},i=a(\"6VBw\"),c=function(e,t){return n.createElement(i.a,Object.assign({},e,{ref:t,icon:r}))};c.displayName=\"ClockCircleOutlined\";t.a=n.forwardRef(c)},Ma5Y:function(e,t,a){var n=a(\"9ONQ\");n=n.default||n,e.exports=function(e,t){var a=e.req&&e.req.headers&&e.req.headers.cookie;return new n(a).getAll(t)}},\"dF/Y\":function(e,t,a){\"use strict\";var n=a(\"q1tI\"),r={name:\"download\",theme:\"outlined\",icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z\"}}]}},i=a(\"6VBw\"),c=function(e,t){return n.createElement(i.a,Object.assign({},e,{ref:t,icon:r}))};c.displayName=\"DownloadOutlined\";t.a=n.forwardRef(c)},\"iVi/\":function(e,t,a){\"use strict\";t.parse=function(e,t){if(\"string\"!==typeof e)throw new TypeError(\"argument str must be a string\");for(var a={},r=t||{},c=e.split(i),s=r.decode||n,l=0;l<c.length;l++){var u=c[l],d=u.indexOf(\"=\");if(!(d<0)){var p=u.substr(0,d).trim(),f=u.substr(++d,u.length).trim();'\"'==f[0]&&(f=f.slice(1,-1)),void 0==a[p]&&(a[p]=o(f,s))}}return a},t.serialize=function(e,t,a){var n=a||{},i=n.encode||r;if(\"function\"!==typeof i)throw new TypeError(\"option encode is invalid\");if(!c.test(e))throw new TypeError(\"argument name is invalid\");var o=i(t);if(o&&!c.test(o))throw new TypeError(\"argument val is invalid\");var s=e+\"=\"+o;if(null!=n.maxAge){var l=n.maxAge-0;if(isNaN(l))throw new Error(\"maxAge should be a Number\");s+=\"; Max-Age=\"+Math.floor(l)}if(n.domain){if(!c.test(n.domain))throw new TypeError(\"option domain is invalid\");s+=\"; Domain=\"+n.domain}if(n.path){if(!c.test(n.path))throw new TypeError(\"option path is invalid\");s+=\"; Path=\"+n.path}if(n.expires){if(\"function\"!==typeof n.expires.toUTCString)throw new TypeError(\"option expires is invalid\");s+=\"; Expires=\"+n.expires.toUTCString()}n.httpOnly&&(s+=\"; HttpOnly\");n.secure&&(s+=\"; Secure\");if(n.sameSite){switch(\"string\"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:s+=\"; SameSite=Strict\";break;case\"lax\":s+=\"; SameSite=Lax\";break;case\"strict\":s+=\"; SameSite=Strict\";break;case\"none\":s+=\"; SameSite=None\";break;default:throw new TypeError(\"option sameSite is invalid\")}}return s};var n=decodeURIComponent,r=encodeURIComponent,i=/; */,c=/^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;function o(e,t){try{return t(e)}catch(a){return e}}},kpM1:function(e,t,a){},l99c:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/videos/detail\",function(){return a(\"tAUM\")}])},qx4F:function(e,t,a){\"use strict\";var n;function r(e){if(\"undefined\"===typeof document)return 0;if(e||void 0===n){var t=document.createElement(\"div\");t.style.width=\"100%\",t.style.height=\"200px\";var a=document.createElement(\"div\"),r=a.style;r.position=\"absolute\",r.top=0,r.left=0,r.pointerEvents=\"none\",r.visibility=\"hidden\",r.width=\"200px\",r.height=\"150px\",r.overflow=\"hidden\",a.appendChild(t),document.body.appendChild(a);var i=t.offsetWidth;a.style.overflow=\"scroll\";var c=t.offsetWidth;i===c&&(c=a.clientWidth),document.body.removeChild(a),n=i-c}return n}a.d(t,\"a\",(function(){return r}))},tAUM:function(e,t,a){\"use strict\";a.r(t);var n=a(\"o0o1\"),r=a.n(n),i=a(\"HaE+\"),c=a(\"1OyB\"),o=a(\"vuIU\"),s=a(\"JX7q\"),l=a(\"Ji7U\"),u=a(\"md7G\"),d=a(\"foSv\"),p=a(\"rePB\"),f=a(\"tsqr\"),v=a(\"2/Rp\"),m=a(\"+KLJ\"),h=a(\"q1tI\"),g=a.n(h),b={name:\"hourglass\",theme:\"outlined\",icon:{tag:\"svg\",attrs:{viewBox:\"64 64 896 896\",focusable:\"false\"},children:[{tag:\"path\",attrs:{d:\"M742 318V184h86c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h86v134c0 81.5 42.4 153.2 106.4 194-64 40.8-106.4 112.5-106.4 194v134h-86c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h632c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8h-86V706c0-81.5-42.4-153.2-106.4-194 64-40.8 106.4-112.5 106.4-194zm-72 388v134H354V706c0-42.2 16.4-81.9 46.3-111.7C430.1 564.4 469.8 548 512 548s81.9 16.4 111.7 46.3C653.6 624.1 670 663.8 670 706zm0-388c0 42.2-16.4 81.9-46.3 111.7C593.9 459.6 554.2 476 512 476s-81.9-16.4-111.7-46.3A156.63 156.63 0 01354 318V184h316v134z\"}}]}},O=a(\"6VBw\"),E=function(e,t){return h.createElement(O.a,Object.assign({},e,{ref:t,icon:b}))};E.displayName=\"HourglassOutlined\";var y=h.forwardRef(E),N=a(\"Icgb\"),C=a(\"dF/Y\"),w=a(\"8Kt/\"),S=a.n(w),T=(a(\"o+52\"),a(\"x7is\")),j=a(\"CLrh\"),x=a(\"/MKj\"),A=a(\"Acen\"),_=a(\"psLn\"),k=a(\"Ma5Y\"),U=a.n(k),M=a(\"D4/9\"),I=a(\"TW7V\"),P=a(\"TXU+\"),R=a(\"nOHt\"),L=a.n(R),B=a(\"xXdm\"),F=g.a.createElement;function V(e){var t=function(){if(\"undefined\"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var H=function(e){Object(l.a)(a,e);var t=V(a);function a(e){var n;return Object(c.a)(this,a),n=t.call(this,e),Object(p.a)(Object(s.a)(n),\"popupRef\",void 0),n.state={video:null,loading:!0,success:!1},n}return Object(o.a)(a,[{key:\"componentDidMount\",value:function(){var e=this.props,t=e.data;e.isBrowser?this.getVideoDetail():this.setState({video:t,success:!0,loading:!1})}},{key:\"onOk\",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a,n,i,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.currentUser,n=t.data,i=t.updateCurrentUserBalance,e.prev=1,a&&a._id){e.next=5;break}return f.b.error(\"Please login to buy this video!\"),e.abrupt(\"return\",L.a.push(\"/auth/login\"));case 5:return e.next=7,j.m.purchaseVideo(n._id);case 7:this.popupRef&&this.popupRef.setVisible(!1),this.getVideoDetail(),c=-1*n.token,i(c),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),this.responseError(e.t0);case 16:return e.abrupt(\"return\",void 0);case 17:case\"end\":return e.stop()}}),e,this,[[1,13]])})));return function(){return e.apply(this,arguments)}}()},{key:\"getVideoDetail\",value:function(){var e=Object(i.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.data,this.setState({success:!1,loading:!0}),e.prev=2,e.next=5,j.t.userFindVideoById(t._id);case 5:a=e.sent,this.setState({video:a.data,success:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),this.responseError(e.t0);case 12:return e.prev=12,this.setState({loading:!1}),e.finish(12);case 15:case\"end\":return e.stop()}}),e,this,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}()},{key:\"purchase\",value:function(){if(!this.props.loggedIn)return f.b.error(\"Please login to buy this video!\");this.popupRef&&this.popupRef.setVisible(!0)}},{key:\"download\",value:function(){var e=this.state.video;if(e&&(e.isBought||!e.isSaleVideo)){var t=document.createElement(\"a\");t.href=e.video.url,t.target=\"_blank\",document.body.appendChild(t),t.click()}}},{key:\"responseError\",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(t);case 2:a=e.sent,f.b.error(Object(_.k)(a));case 4:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:\"render\",value:function(){var e,t,a,n=this,r=this.state,i=r.video,c=r.success,o=r.loading,s=this.props,l=s.data,u=s.ui,d=s.loggedIn;if(!l)return F(M.default,{statusCode:404});var p=[{title:\"Posted by:\",description:l.performer.username},{title:\"Added on:\",description:Object(_.f)(l.createdAt)},{title:\"Duration:\",description:Object(_.g)(null===(e=l.video)||void 0===e?void 0:e.duration)}],f=null===l||void 0===l?void 0:l.performer;return l.isSaleVideo&&p.push({title:\"Price: \",description:F(P.a,{value:l.token,suffix:\" Tokens\"})}),F(g.a.Fragment,null,F(S.a,null,F(\"title\",null,i&&i.title?i.title:\"Video\"),F(\"meta\",{name:\"keywords\",content:i&&i.description}),F(\"meta\",{name:\"description\",content:i&&i.description}),F(\"meta\",{property:\"og:title\",content:\"\".concat(null===u||void 0===u?void 0:u.siteName,\" | \").concat((null===i||void 0===i?void 0:i.title)||\"Video\"),key:\"title\"}),F(\"meta\",{property:\"og:image\",content:i&&i.thumbnail}),F(\"meta\",{property:\"og:keywords\",content:i&&i.description}),F(\"meta\",{property:\"og:description\",content:i&&i.description})),F(g.a.Fragment,null,F(A.a,{ref:function(e){return n.popupRef=e},title:\"Buy Video \".concat(null===l||void 0===l?void 0:l.title),content:F(\"div\",null,F(\"strong\",null,\"Available high quality Video\"),F(\"h3\",null,F(P.a,{value:l.token,prefix:\"Buy \".concat(Object(_.a)((null===l||void 0===l?void 0:l.title)||\"\"),\" For \"),suffix:\" Tokens\"}))),onOk:this.onOk.bind(this)}),F(\"div\",{className:\"video-detail-page\"},!o&&c?F(g.a.Fragment,null,F(\"div\",{className:\"video-header\"},F(\"div\",{className:\"vid-title\"},null===i||void 0===i?void 0:i.title),F(\"div\",{className:\"vid-duration\"},F(y,null),\"\\xa0\",Object(_.g)((null===i||void 0===i||null===(t=i.video)||void 0===t?void 0:t.duration)||0)),F(\"div\",{className:\"vid-duration\"},F(N.a,null),\"\\xa0\",Object(_.f)(null===i||void 0===i?void 0:i.createdAt))),F(\"div\",{className:\"video-player\"},(!i.isSaleVideo||i.isBought)&&F(\"video\",{src:null===i||void 0===i||null===(a=i.video)||void 0===a?void 0:a.url,controls:!0,poster:null===i||void 0===i?void 0:i.thumbnail}),i.isSaleVideo&&!i.isBought&&i.trailer&&F(g.a.Fragment,null,F(\"video\",{src:null===i||void 0===i?void 0:i.trailer.url,controls:!0,poster:null===i||void 0===i?void 0:i.thumbnail}),F(\"p\",{style:{margin:\"10px\",textAlign:\"center\"}},\"You're watching teaser video\")),i.isSaleVideo&&!i.isBought&&!i.trailer&&F(\"img\",{src:null===i||void 0===i?void 0:i.thumbnail,alt:\"\"})),F(\"div\",{className:\"video-stats\"},(null===i||void 0===i?void 0:i.isSaleVideo)&&!i.isBought&&F(v.a,{type:\"primary\",htmlType:\"button\",onClick:this.purchase.bind(this)},\"Buy Video\"),(d&&(null===i||void 0===i?void 0:i.isBought)||d&&!(null!==i&&void 0!==i&&i.isSaleVideo))&&F(v.a,{type:\"dashed\",htmlType:\"button\",onClick:this.download.bind(this)},F(C.a,null),\" \",\"Download\")),(null===i||void 0===i?void 0:i.isSaleVideo)&&!(null!==i&&void 0!==i&&i.isBought)&&F(\"div\",{style:{margin:\"10px 0\"}},F(m.a,{message:\"To view full content, please buy this video!\",type:\"error\"})),F(\"div\",{className:\"video-info\"},F(\"div\",{className:\"video-description\"},(null===i||void 0===i?void 0:i.description)||\"No video description\")),f&&F(B.a,{placeholderAvatarUrl:null===u||void 0===u?void 0:u.placeholderAvatarUrl,performer:f,searching:o,success:c})):F(g.a.Fragment,null,F(I.a,{spinning:!0})))))}}],[{key:\"getInitialProps\",value:function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n,i,c,o,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.ctx,e.prev=1,!(n=a.query).data){e.next=5;break}return e.abrupt(\"return\",{data:JSON.parse(n.data),isBrowser:!0});case 5:if(!n.id){e.next=12;break}return i=U()(a),c=i.token,o={Authorization:c},e.next=10,j.t.userFindVideoById(n.id,o);case 10:return s=e.sent,e.abrupt(\"return\",{data:s.data,isBrowser:!0});case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(1),e.abrupt(\"return\",{});case 17:return e.abrupt(\"return\",{});case 18:case\"end\":return e.stop()}}),e,null,[[1,14]])})));return function(t){return e.apply(this,arguments)}}()}]),a}(h.PureComponent);Object(p.a)(H,\"authenticate\",!1),Object(p.a)(H,\"layout\",\"public\");var z={updateCurrentUserBalance:T.o};t.default=Object(x.b)((function(e){return{ui:e.ui,loggedIn:e.auth.loggedIn,currentUser:e.user.current,currentPerformer:e.performer.current}}),z)(H)},x7is:function(e,t,a){\"use strict\";a.d(t,\"m\",(function(){return r})),a.d(t,\"n\",(function(){return i})),a.d(t,\"o\",(function(){return c})),a.d(t,\"p\",(function(){return s})),a.d(t,\"r\",(function(){return l})),a.d(t,\"q\",(function(){return u})),a.d(t,\"l\",(function(){return d})),a.d(t,\"k\",(function(){return p})),a.d(t,\"a\",(function(){return f})),a.d(t,\"b\",(function(){return m})),a.d(t,\"d\",(function(){return h})),a.d(t,\"c\",(function(){return g})),a.d(t,\"i\",(function(){return b})),a.d(t,\"j\",(function(){return O})),a.d(t,\"e\",(function(){return y})),a.d(t,\"g\",(function(){return N})),a.d(t,\"f\",(function(){return C})),a.d(t,\"h\",(function(){return w}));var n=a(\"vo7w\"),r=Object(n.a)(\"updateCurrentUser\"),i=Object(n.a)(\"updateCurrentUserAvatar\"),c=Object(n.a)(\"updateCurrentUserBalance\"),o=Object(n.b)(\"updateUser\",\"UPDATE_USER\"),s=o.updateUser,l=o.updateUserSuccess,u=o.updateUserFail,d=Object(n.a)(\"updatingUser\"),p=Object(n.a)(\"setUserReducer\"),f=Object(n.a)(\"buyTokenSuccess\"),v=Object(n.b)(\"getFavoritePerformers\",\"GET_FAVOURITE\"),m=v.getFavoritePerformers,h=v.getFavoritePerformersSuccess,g=v.getFavoritePerformersFailed,b=Object(n.a)(\"GETTING_FAVORITE\"),O=Object(n.a)(\"REMOVE_FAVORITE\"),E=Object(n.b)(\"getPaymentTokenHistroy\",\"GET_PAYMET_TOKE_HISTORY\"),y=E.getPaymentTokenHistroy,N=E.getPaymentTokenHistroySuccess,C=E.getPaymentTokenHistroyFail,w=Object(n.a)(\"GETTING_PAYMET_TOKE_HISTORY\")},xXdm:function(e,t,a){\"use strict\";var n=a(\"q1tI\"),r=a(\"/ezw\"),i=a(\"BMrR\"),c=a(\"kPKH\"),o=a(\"2/Rp\"),s=a(\"1Bbz\"),l=a(\"psLn\"),u=a(\"YFqc\"),d=a.n(u),p=(a(\"kpM1\"),n.createElement),f=function(e){var t=e.performer,a=e.searching,u=e.success,f=e.placeholderAvatarUrl,v=t.avatar,m=t.username,h=t.createdAt,g=t.gender,b=t.ethnicity,O=t.country,E=t.height,y=t.weight,N=t.dateOfBirth,C=t.tags,w=t.socials,S=t.lastStreamingTime,T=t.eyes;return p(\"div\",{className:\"profile-card\"},a?p(r.a,{loading:!0,paragraph:{rows:4}}):u&&p(n.Fragment,null,p(\"div\",{className:\"avatar\"},p(\"img\",{src:v||f,alt:\"\"})),p(\"div\",{className:\"profile\"},p(\"div\",{className:\"name\"},p(\"span\",{className:\"lable\"},\"Username: \"),p(\"span\",{className:\"\",style:{textTransform:\"capitalize\"}},m)),g&&p(\"div\",{className:\"gender\"},p(\"span\",{className:\"lable\"},\"Gender: \"),p(\"span\",{className:\"\",style:{textTransform:\"capitalize\"}},g)),h&&p(\"div\",{className:\"created-date\"},p(\"span\",{className:\"lable\"},\"Member Since: \"),p(\"span\",{className:\"\",style:{textTransform:\"capitalize\"}},Object(l.f)(h,\"MMMM DD, YYYY\"))),p(\"div\",{className:\"last-broadcast\"},p(\"span\",{className:\"lable\"},\"Last Broadcast: \"),p(\"span\",{className:\"\",style:{textTransform:\"capitalize\"}},Object(l.f)(S,\"LLLL\"))),b&&p(\"div\",{className:\"ethinicity\"},p(\"span\",{className:\"lable\"},\"Ethinicity: \"),p(\"span\",{className:\"\",style:{textTransform:\"capitalize\"}},b)),N&&p(\"div\",{className:\"age\"},p(\"span\",{className:\"lable\"},\"Age: \"),p(\"span\",{className:\"\",style:{textTransform:\"capitalize\"}},Object(l.i)(N))),O&&p(\"div\",{className:\"country\"},p(\"span\",{className:\"lable\"},\"Country: \"),p(\"span\",{className:\"\",style:{textTransform:\"capitalize\"}},O)),E&&p(\"div\",{className:\"height\"},p(\"span\",{className:\"lable\"},\"Height: \"),p(\"span\",{className:\"\",style:{textTransform:\"capitalize\"}},E)),y&&p(\"div\",{className:\"weight\"},p(\"span\",{className:\"lable\"},\"Weight: \"),p(\"span\",{className:\"\",style:{textTransform:\"capitalize\"}},y)),T&&p(\"div\",{className:\"body\"},p(\"span\",{className:\"lable\"},\"Eye color: \"),p(\"span\",{className:\"\",style:{textTransform:\"capitalize\"}},T))),p(\"br\",null),t.aboutMe&&p(\"p\",null,\"About\",\" \",m),p(\"div\",{className:\"bio\"},p(\"span\",null,t.aboutMe)),p(\"br\",null),p(\"p\",null,\"What We do on webcam\"),C&&C.length>0&&p(\"div\",{className:\"tags\"},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(t,a){return p(d.a,{key:\"performer-tag-\".concat(t),href:{pathname:\"/tag\",query:{tags:t}},as:\"/tag/\".concat(t)},p(\"a\",null,p(\"span\",null,a<e.length-1?\"\".concat(t,\", \"):t)))}))}(C)),t.schedule&&p(\"p\",null,\"Working hours of \".concat(t.username)),p(i.a,{className:\"schedule\"},t.schedule&&Object.keys(t.schedule).map((function(e){return p(c.a,{sm:{span:8},xs:{span:12},key:e},p(\"span\",{style:{color:\"#ff0066\",fontWeight:\"bold\",textTransform:\"uppercase\"}},\"\".concat(e,\"  \")),p(\"span\",{style:{color:\"#000000\",fontWeight:\"bold\"}},\"00:00\"!==t.schedule[e].start&&\"00:00\"!==t.schedule[e].end?\"\".concat(t.schedule[e].start,\" - \").concat(t.schedule[e].end):\"N/A\"))}))),p(\"br\",null),w&&w.length>0&&p(\"p\",null,\"Find Me On\"),p(i.a,{className:\"social\",gutter:10},w&&w.facebook&&p(c.a,null,p(\"a\",{href:w.facebook,target:\"_blank\",rel:\"noreferrer\"},p(o.a,{type:\"primary\",style:{padding:0,width:36,height:32}},p(s.b,null)))),w&&w.twitter&&p(c.a,null,p(\"a\",{href:w.twitter,target:\"_blank\",rel:\"noreferrer\"},p(o.a,{type:\"primary\",style:{padding:0,width:36,height:32}},p(s.r,null)))),w&&w.instagram&&p(c.a,null,p(\"a\",{href:w.instagram,target:\"_blank\",rel:\"noreferrer\"},p(o.a,{type:\"primary\",style:{padding:0,width:36,height:32}},p(s.g,null)))))))};f.defaultProps={searching:!1,success:!1,placeholderAvatarUrl:\"/no-avatar.png\"},t.a=f},zvFY:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return U}));var n=a(\"wx14\"),r=a(\"rePB\"),i=a(\"ODXe\"),c=a(\"U8pU\"),o=a(\"q1tI\"),s=a.n(o),l=a(\"TSYQ\"),u=a.n(l),d=a(\"bT9E\"),p=a(\"H84U\"),f=a(\"1OyB\"),v=function e(t){return Object(f.a)(this,e),new Error(\"unreachable case: \".concat(JSON.stringify(t)))},m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},h=function(e){return o.createElement(p.a,null,(function(t){var a,i=t.getPrefixCls,c=t.direction,s=e.prefixCls,l=e.size,d=e.className,p=m(e,[\"prefixCls\",\"size\",\"className\"]),f=i(\"btn-group\",s),h=\"\";switch(l){case\"large\":h=\"lg\";break;case\"small\":h=\"sm\";break;case\"middle\":case void 0:break;default:console.warn(new v(l))}var g=u()(f,(a={},Object(r.a)(a,\"\".concat(f,\"-\").concat(h),h),Object(r.a)(a,\"\".concat(f,\"-rtl\"),\"rtl\"===c),a),d);return o.createElement(\"div\",Object(n.a)({},p,{className:g}))}))},g=a(\"g0mS\"),b=a(\"CWQg\"),O=a(\"uaoM\"),E=a(\"3Nzz\"),y=a(\"8XRh\"),N=a(\"ye1Q\"),C=function(){return{width:0,opacity:0,transform:\"scale(0)\"}},w=function(e){return{width:e.scrollWidth,opacity:1,transform:\"scale(1)\"}},S=function(e){var t=e.prefixCls,a=!!e.loading;return e.existIcon?s.a.createElement(\"span\",{className:\"\".concat(t,\"-loading-icon\")},s.a.createElement(N.a,null)):s.a.createElement(y.default,{visible:a,motionName:\"\".concat(t,\"-loading-icon-motion\"),removeOnLeave:!0,onAppearStart:C,onAppearActive:w,onEnterStart:C,onEnterActive:w,onLeaveStart:w,onLeaveActive:C},(function(e,a){var n=e.className,r=e.style;return s.a.createElement(\"span\",{className:\"\".concat(t,\"-loading-icon\"),style:r,ref:a},s.a.createElement(N.a,{className:n}))}))},T=a(\"0n0R\"),j=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&\"function\"===typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a},x=/^[\\u4e00-\\u9fa5]{2}$/,A=x.test.bind(x);function _(e){return\"text\"===e||\"link\"===e}function k(e,t){var a=!1,n=[];return o.Children.forEach(e,(function(e){var t=Object(c.a)(e),r=\"string\"===t||\"number\"===t;if(a&&r){var i=n.length-1,o=n[i];n[i]=\"\".concat(o).concat(e)}else n.push(e);a=r})),o.Children.map(n,(function(e){return function(e,t){if(null!=e){var a=t?\" \":\"\";return\"string\"!==typeof e&&\"number\"!==typeof e&&\"string\"===typeof e.type&&A(e.props.children)?Object(T.a)(e,{children:e.props.children.split(\"\").join(a)}):\"string\"===typeof e?(A(e)&&(e=e.split(\"\").join(a)),o.createElement(\"span\",null,e)):e}}(e,t)}))}Object(b.a)(\"default\",\"primary\",\"ghost\",\"dashed\",\"link\",\"text\"),Object(b.a)(\"circle\",\"round\"),Object(b.a)(\"submit\",\"button\",\"reset\");function U(e){return\"danger\"===e?{danger:!0}:{type:e}}var M=function(e,t){var a,s,l=e.loading,f=void 0!==l&&l,v=e.prefixCls,m=e.type,h=e.danger,b=e.shape,y=e.size,N=e.className,C=e.children,w=e.icon,T=e.ghost,x=void 0!==T&&T,U=e.block,M=void 0!==U&&U,I=e.htmlType,P=void 0===I?\"button\":I,R=j(e,[\"loading\",\"prefixCls\",\"type\",\"danger\",\"shape\",\"size\",\"className\",\"children\",\"icon\",\"ghost\",\"block\",\"htmlType\"]),L=o.useContext(E.b),B=o.useState(!!f),F=Object(i.a)(B,2),V=F[0],H=F[1],z=o.useState(!1),D=Object(i.a)(z,2),K=D[0],q=D[1],W=o.useContext(p.b),Y=W.getPrefixCls,G=W.autoInsertSpaceInButton,Q=W.direction,X=t||o.createRef(),J=o.useRef(),Z=function(){return 1===o.Children.count(C)&&!w&&!_(m)};s=\"object\"===Object(c.a)(f)&&f.delay?f.delay||!0:!!f,o.useEffect((function(){clearTimeout(J.current),\"number\"===typeof s?J.current=window.setTimeout((function(){H(s)}),s):H(s)}),[s]),o.useEffect((function(){if(X&&X.current&&!1!==G){var e=X.current.textContent;Z()&&A(e)?K||q(!0):K&&q(!1)}}),[X]);var $=function(t){var a,n=e.onClick;V||null===(a=n)||void 0===a||a(t)};Object(O.a)(!(\"string\"===typeof w&&w.length>2),\"Button\",\"`icon` is using ReactNode instead of string naming in v4. Please check `\".concat(w,\"` at https://ant.design/components/icon\")),Object(O.a)(!(x&&_(m)),\"Button\",\"`link` or `text` button can't be a `ghost` button.\");var ee=Y(\"btn\",v),te=!1!==G,ae=\"\";switch(y||L){case\"large\":ae=\"lg\";break;case\"small\":ae=\"sm\"}var ne=V?\"loading\":w,re=u()(ee,(a={},Object(r.a)(a,\"\".concat(ee,\"-\").concat(m),m),Object(r.a)(a,\"\".concat(ee,\"-\").concat(b),b),Object(r.a)(a,\"\".concat(ee,\"-\").concat(ae),ae),Object(r.a)(a,\"\".concat(ee,\"-icon-only\"),!C&&0!==C&&ne),Object(r.a)(a,\"\".concat(ee,\"-background-ghost\"),x&&!_(m)),Object(r.a)(a,\"\".concat(ee,\"-loading\"),V),Object(r.a)(a,\"\".concat(ee,\"-two-chinese-chars\"),K&&te),Object(r.a)(a,\"\".concat(ee,\"-block\"),M),Object(r.a)(a,\"\".concat(ee,\"-dangerous\"),!!h),Object(r.a)(a,\"\".concat(ee,\"-rtl\"),\"rtl\"===Q),a),N),ie=w&&!V?w:o.createElement(S,{existIcon:!!w,prefixCls:ee,loading:!!V}),ce=C||0===C?k(C,Z()&&te):null,oe=Object(d.a)(R,[\"navigate\"]);if(void 0!==oe.href)return o.createElement(\"a\",Object(n.a)({},oe,{className:re,onClick:$,ref:X}),ie,ce);var se=o.createElement(\"button\",Object(n.a)({},R,{type:P,className:re,onClick:$,ref:X}),ie,ce);return _(m)?se:o.createElement(g.a,null,se)},I=o.forwardRef(M);I.displayName=\"Button\",I.Group=h,I.__ANT_BUTTON=!0;t.b=I}},[[\"l99c\",0,1,4,5,3,2,6,7,10,12,15,17,31,33,50,9]]]);","extractedComments":[]}